"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_app-pages-browser_components_EpubViewerWithQuiz_js",{

/***/ "(app-pages-browser)/./components/EpubViewerWithQuiz.js":
/*!******************************************!*\
  !*** ./components/EpubViewerWithQuiz.js ***!
  \******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ EpubViewerWithQuiz)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\nfunction EpubViewerWithQuiz() {\n    var _manifest_pages;\n    _s();\n    const spreadContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const leftViewerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const rightViewerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const audioRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const leftBookRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const rightBookRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const leftRenditionRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const rightRenditionRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const leftCurrentIndexRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const rightCurrentIndexRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [manifest, setManifest] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [currentPage, setCurrentPage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [dualMode, setDualMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [showQuiz, setShowQuiz] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [quizLoading, setQuizLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [questions, setQuestions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [userAnswers, setUserAnswers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [quizSubmitted, setQuizSubmitted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const manifestRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"EpubViewerWithQuiz.useEffect\": ()=>{\n            manifestRef.current = manifest;\n        }\n    }[\"EpubViewerWithQuiz.useEffect\"], [\n        manifest\n    ]);\n    const loadPageRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        \"EpubViewerWithQuiz.useRef[loadPageRef]\": ()=>{}\n    }[\"EpubViewerWithQuiz.useRef[loadPageRef]\"]);\n    loadPageRef.current = (idx)=>loadPage(idx);\n    var _manifest_pages_length;\n    const totalPages = (_manifest_pages_length = manifest === null || manifest === void 0 ? void 0 : (_manifest_pages = manifest.pages) === null || _manifest_pages === void 0 ? void 0 : _manifest_pages.length) !== null && _manifest_pages_length !== void 0 ? _manifest_pages_length : 0;\n    const isLastPage = totalPages > 0 && currentPage >= totalPages - 1;\n    // 마운트 시 로그\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"EpubViewerWithQuiz.useEffect\": ()=>{\n            console.log(\"[EpubViewer] 컴포넌트 마운트됨\");\n            return ({\n                \"EpubViewerWithQuiz.useEffect\": ()=>console.log(\"[EpubViewer] 컴포넌트 언마운트됨\")\n            })[\"EpubViewerWithQuiz.useEffect\"];\n        }\n    }[\"EpubViewerWithQuiz.useEffect\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"EpubViewerWithQuiz.useEffect\": ()=>{\n            if (false) {}\n            const opfUrl = \"https://files-kids-english.s3.ap-northeast-2.amazonaws.com/books/urn%3Auuid%3Apublishing-3e1d27df/epub/OEBPS/content.opf\";\n            const manifestUrl = \"https://files-kids-english.s3.ap-northeast-2.amazonaws.com/books/urn%3Auuid%3Apublishing-3e1d27df/manifest.json\";\n            const init = {\n                \"EpubViewerWithQuiz.useEffect.init\": async ()=>{\n                    var _manifestRes_pages;\n                    const [manifestRes, ePubModule] = await Promise.all([\n                        fetch(manifestUrl).then({\n                            \"EpubViewerWithQuiz.useEffect.init\": (r)=>r.json()\n                        }[\"EpubViewerWithQuiz.useEffect.init\"]),\n                        __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_epubjs_src_index_js\").then(__webpack_require__.bind(__webpack_require__, /*! epubjs */ \"(app-pages-browser)/./node_modules/epubjs/src/index.js\")).then({\n                            \"EpubViewerWithQuiz.useEffect.init\": (m)=>m.default\n                        }[\"EpubViewerWithQuiz.useEffect.init\"])\n                    ]);\n                    console.log(\"[EpubViewer] manifest 로드됨, pages:\", manifestRes === null || manifestRes === void 0 ? void 0 : (_manifestRes_pages = manifestRes.pages) === null || _manifestRes_pages === void 0 ? void 0 : _manifestRes_pages.length);\n                    setManifest(manifestRes);\n                    const ePub = ePubModule;\n                    const leftBook = ePub(opfUrl);\n                    const rightBook = ePub(opfUrl);\n                    leftBookRef.current = leftBook;\n                    rightBookRef.current = rightBook;\n                    await Promise.all([\n                        leftBook.ready,\n                        rightBook.ready\n                    ]);\n                    setTimeout({\n                        \"EpubViewerWithQuiz.useEffect.init\": ()=>loadPageRef.current(0)\n                    }[\"EpubViewerWithQuiz.useEffect.init\"], 0);\n                }\n            }[\"EpubViewerWithQuiz.useEffect.init\"];\n            init();\n        }\n    }[\"EpubViewerWithQuiz.useEffect\"], []);\n    // 책 로드 후 즉시 문제 생성 시작\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"EpubViewerWithQuiz.useEffect\": ()=>{\n            var _manifest_pages;\n            if (!(manifest === null || manifest === void 0 ? void 0 : (_manifest_pages = manifest.pages) === null || _manifest_pages === void 0 ? void 0 : _manifest_pages.length)) return;\n            const bookText = manifest.pages.map({\n                \"EpubViewerWithQuiz.useEffect.bookText\": (p)=>typeof (p === null || p === void 0 ? void 0 : p.text) === \"string\" ? p.text.trim() : \"\"\n            }[\"EpubViewerWithQuiz.useEffect.bookText\"]).filter(Boolean).join(\"\\n\\n\").trim();\n            if (!bookText) {\n                console.warn(\"[EpubViewer] manifest에 텍스트 없음\");\n                return;\n            }\n            console.log(\"[EpubViewer] 책 로드 완료, 문제 생성 시작, text 길이:\", bookText.length);\n            setQuizLoading(true);\n            fetch(\"/api/generate-questions\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    bookText\n                })\n            }).then({\n                \"EpubViewerWithQuiz.useEffect\": (res)=>res.json()\n            }[\"EpubViewerWithQuiz.useEffect\"]).then({\n                \"EpubViewerWithQuiz.useEffect\": (data)=>{\n                    var _data_questions;\n                    if ((_data_questions = data.questions) === null || _data_questions === void 0 ? void 0 : _data_questions.length) {\n                        setQuestions(data.questions);\n                        setQuizLoading(false);\n                        console.log(\"[EpubViewer] 문제 생성 완료:\", data.questions.length, \"개\");\n                    } else {\n                        var _data_error;\n                        console.error(\"[EpubViewer] 문제 생성 실패:\", (_data_error = data.error) !== null && _data_error !== void 0 ? _data_error : data);\n                        setQuizLoading(false);\n                    }\n                }\n            }[\"EpubViewerWithQuiz.useEffect\"]).catch({\n                \"EpubViewerWithQuiz.useEffect\": (err)=>{\n                    console.error(\"[EpubViewer] 문제 생성 오류:\", err);\n                    setQuizLoading(false);\n                }\n            }[\"EpubViewerWithQuiz.useEffect\"]);\n        }\n    }[\"EpubViewerWithQuiz.useEffect\"], [\n        manifest\n    ]);\n    const injectReset = (iframe, side)=>{\n        try {\n            if (!iframe) return;\n            iframe.style.width = \"100%\";\n            iframe.style.height = \"100%\";\n            iframe.style.border = \"0\";\n            iframe.style.display = \"block\";\n            const doc = iframe.contentDocument || iframe.contentWindow.document;\n            const style = doc.createElement(\"style\");\n            const justify = side === \"left\" ? \"flex-end\" : \"flex-start\";\n            style.textContent = \"\\n        @page{margin:0 !important;}\\n        html,body,:root{margin:0 !important;padding:0 !important;height:100% !important;min-width:0 !important;background:transparent !important}\\n        *{box-sizing:border-box !important;margin:0 !important;padding:0 !important;border:0 !important;border-radius:0 !important;pointer-events:auto !important}\\n        body{display:flex !important;align-items:center !important;justify-content:\".concat(justify, \" !important;-webkit-column-count:initial !important;column-count:initial !important;-webkit-column-gap:0 !important;column-gap:0 !important;overflow:hidden !important}\\n        body > *{margin:0 !important;padding:0 !important;border:0 !important;border-radius:0 !important}\\n        p,figure,section,article,div{margin:0 !important;padding:0 !important;border:0 !important;border-radius:0 !important}\\n        img,svg,canvas,video{max-width:100% !important;height:auto !important;display:block !important;margin:0 !important;padding:0 !important;border:0 !important;border-radius:0 !important}\\n        figure,.page,section,article,div{margin:0 !important;padding:0 !important;border:0 !important;border-radius:0 !important;min-width:0 !important}\\n        .page-text,.textLayer,.layer-text{display:none !important}\\n        a{pointer-events:auto !important}\\n      \");\n            doc.head.appendChild(style);\n            if (!doc.querySelector('meta[name=\"viewport\"]')) {\n                const meta = doc.createElement(\"meta\");\n                meta.name = \"viewport\";\n                meta.content = \"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no\";\n                doc.head.appendChild(meta);\n            }\n            try {\n                var _doc_documentElement, _doc_body;\n                if ((_doc_documentElement = doc.documentElement) === null || _doc_documentElement === void 0 ? void 0 : _doc_documentElement.style) {\n                    doc.documentElement.style.setProperty(\"margin\", \"0\", \"important\");\n                    doc.documentElement.style.setProperty(\"padding\", \"0\", \"important\");\n                }\n                if ((_doc_body = doc.body) === null || _doc_body === void 0 ? void 0 : _doc_body.style) {\n                    doc.body.style.setProperty(\"margin\", \"0\", \"important\");\n                    doc.body.style.setProperty(\"padding\", \"0\", \"important\");\n                    doc.body.style.setProperty(\"display\", \"flex\", \"important\");\n                    doc.body.style.setProperty(\"align-items\", \"center\", \"important\");\n                    doc.body.style.setProperty(\"justify-content\", justify, \"important\");\n                }\n                if (doc.body) {\n                    Array.from(doc.body.children).forEach((el)=>{\n                        if (el === null || el === void 0 ? void 0 : el.style) {\n                            el.style.setProperty(\"margin\", \"0\", \"important\");\n                            el.style.setProperty(\"padding\", \"0\", \"important\");\n                            el.style.setProperty(\"border\", \"0\", \"important\");\n                            el.style.setProperty(\"border-radius\", \"0\", \"important\");\n                        }\n                    });\n                }\n            } catch (e) {}\n            doc.querySelectorAll(\".page-text, .textLayer, .layer-text\").forEach((el)=>{\n                el.style.display = \"none\";\n            });\n        } catch (e) {}\n    };\n    const ensureClickCatcher = (container, side, indexProvider)=>{\n        try {\n            if (!container) return;\n            container.style.position = container.style.position || \"relative\";\n            const id = side === \"left\" ? \"click-catcher-left\" : \"click-catcher-right\";\n            let catcher = container.querySelector(\"#\".concat(id));\n            if (!catcher) {\n                catcher = document.createElement(\"div\");\n                catcher.id = id;\n                catcher.style.cssText = \"position:absolute;top:0;right:0;bottom:0;left:0;z-index:9999;background:transparent;pointer-events:auto;cursor:pointer\";\n                container.appendChild(catcher);\n            }\n            catcher.onclick = ()=>{\n                const idx = indexProvider();\n                if (Number.isFinite(idx)) playCurrentPageAudio(idx);\n            };\n        } catch (e) {}\n    };\n    const attachClickHandlersToDoc = (doc, getIndex)=>{\n        try {\n            doc.addEventListener(\"click\", ()=>{\n                const idx = getIndex();\n                if (Number.isFinite(idx)) playCurrentPageAudio(idx);\n            }, true);\n        } catch (e) {}\n        try {\n            if (doc.body) {\n                doc.body.onclick = ()=>{\n                    const idx = getIndex();\n                    if (Number.isFinite(idx)) playCurrentPageAudio(idx);\n                };\n            }\n        } catch (e) {}\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"EpubViewerWithQuiz.useEffect\": ()=>{\n            const container = spreadContainerRef.current;\n            if (!container) return;\n            const handleResize = {\n                \"EpubViewerWithQuiz.useEffect.handleResize\": ()=>{\n                    const width = container.clientWidth || window.innerWidth;\n                    const height = container.clientHeight || window.innerHeight - 150;\n                    const nextDual = width >= 900;\n                    setDualMode(nextDual);\n                    const panelWidth = nextDual ? Math.floor(width / 2) : width;\n                    try {\n                        var _leftRenditionRef_current;\n                        (_leftRenditionRef_current = leftRenditionRef.current) === null || _leftRenditionRef_current === void 0 ? void 0 : _leftRenditionRef_current.resize(panelWidth, height);\n                    } catch (e) {}\n                    try {\n                        var _rightRenditionRef_current;\n                        (_rightRenditionRef_current = rightRenditionRef.current) === null || _rightRenditionRef_current === void 0 ? void 0 : _rightRenditionRef_current.resize(panelWidth, height);\n                    } catch (e) {}\n                }\n            }[\"EpubViewerWithQuiz.useEffect.handleResize\"];\n            const ro = new ResizeObserver({\n                \"EpubViewerWithQuiz.useEffect\": ()=>handleResize()\n            }[\"EpubViewerWithQuiz.useEffect\"]);\n            ro.observe(container);\n            window.addEventListener(\"resize\", handleResize);\n            setTimeout(handleResize, 0);\n            return ({\n                \"EpubViewerWithQuiz.useEffect\": ()=>{\n                    ro.disconnect();\n                    window.removeEventListener(\"resize\", handleResize);\n                }\n            })[\"EpubViewerWithQuiz.useEffect\"];\n        }\n    }[\"EpubViewerWithQuiz.useEffect\"], []);\n    const stopCurrentAudio = ()=>{\n        try {\n            if (audioRef.current) {\n                audioRef.current.pause();\n                audioRef.current.currentTime = 0;\n            }\n        } catch (e) {}\n    };\n    const loadPage = (index)=>{\n        var _items_leftIndex, _items_;\n        stopCurrentAudio();\n        if (!leftBookRef.current || !rightBookRef.current) return;\n        const spine = leftBookRef.current.spine;\n        var _spine_items, _ref;\n        const items = (_ref = (_spine_items = spine === null || spine === void 0 ? void 0 : spine.items) !== null && _spine_items !== void 0 ? _spine_items : spine === null || spine === void 0 ? void 0 : spine.spineItems) !== null && _ref !== void 0 ? _ref : [];\n        const spineLen = Array.isArray(items) ? items.length : 0;\n        if (!spineLen) return;\n        if (dualMode && index === 0) {\n            var _items_1;\n            const rightHrefOnly = (_items_1 = items[0]) === null || _items_1 === void 0 ? void 0 : _items_1.href;\n            const options = {\n                width: \"100%\",\n                height: \"100%\",\n                flow: \"paginated\",\n                spread: \"none\",\n                allowScriptedContent: true,\n                minSpreadWidth: 0\n            };\n            try {\n                var _leftRenditionRef_current;\n                if (leftViewerRef.current) leftViewerRef.current.innerHTML = \"\";\n                if ((_leftRenditionRef_current = leftRenditionRef.current) === null || _leftRenditionRef_current === void 0 ? void 0 : _leftRenditionRef_current.destroy) {\n                    leftRenditionRef.current.destroy();\n                    leftRenditionRef.current = null;\n                }\n            } catch (e) {}\n            if (rightViewerRef.current && !rightRenditionRef.current) {\n                rightRenditionRef.current = rightBookRef.current.renderTo(rightViewerRef.current, options);\n                rightRenditionRef.current.on(\"rendered\", ()=>{\n                    var _rightViewerRef_current;\n                    const iframe = (_rightViewerRef_current = rightViewerRef.current) === null || _rightViewerRef_current === void 0 ? void 0 : _rightViewerRef_current.querySelector(\"iframe\");\n                    injectReset(iframe, \"right\");\n                });\n            }\n            if (rightHrefOnly && rightRenditionRef.current) {\n                rightRenditionRef.current.display(rightHrefOnly).catch(()=>{});\n            }\n            if (rightViewerRef.current) ensureClickCatcher(rightViewerRef.current, \"right\", ()=>0);\n            leftCurrentIndexRef.current = null;\n            rightCurrentIndexRef.current = 0;\n            setCurrentPage(0);\n            return;\n        }\n        let leftIndex;\n        if (dualMode) {\n            leftIndex = index <= 0 ? 1 : index % 2 === 1 ? index : index + 1;\n            if (leftIndex >= spineLen) leftIndex = Math.max(spineLen - 2, 0);\n            if (leftIndex < 1 && spineLen > 1) leftIndex = 1;\n        } else {\n            leftIndex = Math.max(0, Math.min(index, spineLen - 1));\n        }\n        const leftHref = (_items_leftIndex = items[leftIndex]) === null || _items_leftIndex === void 0 ? void 0 : _items_leftIndex.href;\n        let rightHref = dualMode && leftIndex + 1 < spineLen ? (_items_ = items[leftIndex + 1]) === null || _items_ === void 0 ? void 0 : _items_.href : undefined;\n        if (dualMode && leftIndex === spineLen - 1) {\n            rightHref = undefined;\n            try {\n                var _rightRenditionRef_current;\n                if (rightViewerRef.current) rightViewerRef.current.innerHTML = \"\";\n                if ((_rightRenditionRef_current = rightRenditionRef.current) === null || _rightRenditionRef_current === void 0 ? void 0 : _rightRenditionRef_current.destroy) {\n                    rightRenditionRef.current.destroy();\n                    rightRenditionRef.current = null;\n                }\n            } catch (e) {}\n        }\n        leftCurrentIndexRef.current = leftIndex;\n        rightCurrentIndexRef.current = rightHref ? leftIndex + 1 : null;\n        const options = {\n            width: \"100%\",\n            height: \"100%\",\n            flow: \"paginated\",\n            spread: \"none\",\n            allowScriptedContent: true,\n            minSpreadWidth: 0\n        };\n        if (!leftRenditionRef.current && leftViewerRef.current) {\n            leftRenditionRef.current = leftBookRef.current.renderTo(leftViewerRef.current, options);\n            leftRenditionRef.current.themes.register(\"override\", {\n                \"@page\": {\n                    margin: \"0 !important\"\n                },\n                \"html, body\": {\n                    margin: \"0 !important\",\n                    padding: \"0 !important\",\n                    height: \"100% !important\",\n                    minWidth: \"0 !important\"\n                },\n                \"*\": {\n                    boxSizing: \"border-box !important\"\n                },\n                \"img, svg, canvas, video\": {\n                    width: \"100% !important\",\n                    height: \"100% !important\",\n                    maxWidth: \"100% !important\",\n                    maxHeight: \"100% !important\",\n                    objectFit: \"contain !important\",\n                    display: \"block !important\",\n                    margin: \"0 !important\",\n                    padding: \"0 !important\",\n                    border: \"0 !important\",\n                    borderRadius: \"0 !important\"\n                },\n                \"figure, .page, section, article, div\": {\n                    margin: \"0 !important\",\n                    padding: \"0 !important\",\n                    border: \"0 !important\",\n                    borderRadius: \"0 !important\",\n                    minWidth: \"0 !important\"\n                },\n                \".page-text, .textLayer, .layer-text\": {\n                    display: \"none !important\"\n                },\n                body: {\n                    overflow: \"hidden !important\",\n                    WebkitColumnCount: \"initial !important\",\n                    columnCount: \"initial !important\",\n                    WebkitColumnGap: \"0 !important\",\n                    columnGap: \"0 !important\"\n                }\n            });\n            leftRenditionRef.current.themes.select(\"override\");\n            leftRenditionRef.current.on(\"rendered\", (section)=>{\n                var _leftViewerRef_current, _iframe_contentWindow;\n                const iframe = (_leftViewerRef_current = leftViewerRef.current) === null || _leftViewerRef_current === void 0 ? void 0 : _leftViewerRef_current.querySelector(\"iframe\");\n                injectReset(iframe, \"left\");\n                if (iframe) iframe.style.pointerEvents = \"none\";\n                ensureClickCatcher(leftViewerRef.current, \"left\", ()=>{\n                    var _leftCurrentIndexRef_current;\n                    return (_leftCurrentIndexRef_current = leftCurrentIndexRef.current) !== null && _leftCurrentIndexRef_current !== void 0 ? _leftCurrentIndexRef_current : section.index;\n                });\n                const doc = (iframe === null || iframe === void 0 ? void 0 : iframe.contentDocument) || (iframe === null || iframe === void 0 ? void 0 : (_iframe_contentWindow = iframe.contentWindow) === null || _iframe_contentWindow === void 0 ? void 0 : _iframe_contentWindow.document);\n                if (doc) attachClickHandlersToDoc(doc, ()=>{\n                    var _leftCurrentIndexRef_current;\n                    return (_leftCurrentIndexRef_current = leftCurrentIndexRef.current) !== null && _leftCurrentIndexRef_current !== void 0 ? _leftCurrentIndexRef_current : section.index;\n                });\n            });\n        }\n        if (dualMode && rightViewerRef.current && !rightRenditionRef.current) {\n            rightRenditionRef.current = rightBookRef.current.renderTo(rightViewerRef.current, options);\n            rightRenditionRef.current.themes.register(\"override\", {\n                \"@page\": {\n                    margin: \"0 !important\"\n                },\n                \"html, body\": {\n                    margin: \"0 !important\",\n                    padding: \"0 !important\",\n                    height: \"100% !important\",\n                    minWidth: \"0 !important\"\n                },\n                \"*\": {\n                    boxSizing: \"border-box !important\"\n                },\n                \"img, svg, canvas, video\": {\n                    width: \"100% !important\",\n                    height: \"100% !important\",\n                    maxWidth: \"100% !important\",\n                    maxHeight: \"100% !important\",\n                    objectFit: \"contain !important\",\n                    display: \"block !important\",\n                    margin: \"0 !important\",\n                    padding: \"0 !important\",\n                    border: \"0 !important\",\n                    borderRadius: \"0 !important\"\n                },\n                \"figure, .page, section, article, div\": {\n                    margin: \"0 !important\",\n                    padding: \"0 !important\",\n                    border: \"0 !important\",\n                    borderRadius: \"0 !important\",\n                    minWidth: \"0 !important\"\n                },\n                \".page-text, .textLayer, .layer-text\": {\n                    display: \"none !important\"\n                },\n                body: {\n                    overflow: \"hidden !important\",\n                    WebkitColumnCount: \"initial !important\",\n                    columnCount: \"initial !important\",\n                    WebkitColumnGap: \"0 !important\",\n                    columnGap: \"0 !important\"\n                }\n            });\n            rightRenditionRef.current.themes.select(\"override\");\n            rightRenditionRef.current.on(\"rendered\", (section)=>{\n                var _rightViewerRef_current, _iframe_contentWindow;\n                const iframe = (_rightViewerRef_current = rightViewerRef.current) === null || _rightViewerRef_current === void 0 ? void 0 : _rightViewerRef_current.querySelector(\"iframe\");\n                injectReset(iframe, \"right\");\n                if (iframe) iframe.style.pointerEvents = \"none\";\n                ensureClickCatcher(rightViewerRef.current, \"right\", ()=>{\n                    var _rightCurrentIndexRef_current;\n                    let idx = (_rightCurrentIndexRef_current = rightCurrentIndexRef.current) !== null && _rightCurrentIndexRef_current !== void 0 ? _rightCurrentIndexRef_current : section.index;\n                    if (!Number.isFinite(idx) && leftCurrentIndexRef.current != null) idx = leftCurrentIndexRef.current + 1;\n                    return idx;\n                });\n                const doc = (iframe === null || iframe === void 0 ? void 0 : iframe.contentDocument) || (iframe === null || iframe === void 0 ? void 0 : (_iframe_contentWindow = iframe.contentWindow) === null || _iframe_contentWindow === void 0 ? void 0 : _iframe_contentWindow.document);\n                if (doc) attachClickHandlersToDoc(doc, ()=>{\n                    var _rightCurrentIndexRef_current;\n                    let idx = (_rightCurrentIndexRef_current = rightCurrentIndexRef.current) !== null && _rightCurrentIndexRef_current !== void 0 ? _rightCurrentIndexRef_current : section.index;\n                    if (!Number.isFinite(idx) && leftCurrentIndexRef.current != null) idx = leftCurrentIndexRef.current + 1;\n                    return idx;\n                });\n            });\n        } else if ((!dualMode || !rightViewerRef.current) && rightRenditionRef.current) {\n            try {\n                rightRenditionRef.current.destroy();\n            } catch (e) {}\n            rightRenditionRef.current = null;\n        }\n        const tasks = [];\n        if (leftHref && leftRenditionRef.current) tasks.push(leftRenditionRef.current.display(leftHref));\n        if (rightHref && rightRenditionRef.current) tasks.push(rightRenditionRef.current.display(rightHref));\n        if (!rightHref && dualMode && rightViewerRef.current) {\n            ensureClickCatcher(rightViewerRef.current, \"right\", ()=>null);\n        }\n        ensureClickCatcher(leftViewerRef.current, \"left\", ()=>{\n            var _leftCurrentIndexRef_current;\n            return (_leftCurrentIndexRef_current = leftCurrentIndexRef.current) !== null && _leftCurrentIndexRef_current !== void 0 ? _leftCurrentIndexRef_current : leftIndex;\n        });\n        if (rightHref && dualMode && rightViewerRef.current) {\n            ensureClickCatcher(rightViewerRef.current, \"right\", ()=>{\n                var _rightCurrentIndexRef_current, _ref;\n                const ri = (_ref = (_rightCurrentIndexRef_current = rightCurrentIndexRef.current) !== null && _rightCurrentIndexRef_current !== void 0 ? _rightCurrentIndexRef_current : leftCurrentIndexRef.current + 1) !== null && _ref !== void 0 ? _ref : leftIndex + 1;\n                return ri;\n            });\n        }\n        Promise.all(tasks).catch(()=>{});\n        setCurrentPage(leftIndex);\n    };\n    const playCurrentPageAudio = (index)=>{\n        const manifestData = manifestRef.current;\n        if (!(manifestData === null || manifestData === void 0 ? void 0 : manifestData.pages)) return;\n        var _manifestData_pages_find;\n        let page = (_manifestData_pages_find = manifestData.pages.find((p)=>p.pageNumber === index + 1)) !== null && _manifestData_pages_find !== void 0 ? _manifestData_pages_find : manifestData.pages[index];\n        if (!(page === null || page === void 0 ? void 0 : page.audioUrl)) {\n            for (const cand of [\n                index - 1,\n                index + 1\n            ]){\n                if (cand < 0) continue;\n                var _manifestData_pages_find1;\n                const alt = (_manifestData_pages_find1 = manifestData.pages.find((p)=>p.pageNumber === cand + 1)) !== null && _manifestData_pages_find1 !== void 0 ? _manifestData_pages_find1 : manifestData.pages[cand];\n                if (alt === null || alt === void 0 ? void 0 : alt.audioUrl) {\n                    page = alt;\n                    break;\n                }\n            }\n        }\n        if ((page === null || page === void 0 ? void 0 : page.audioUrl) && audioRef.current) {\n            audioRef.current.src = page.audioUrl;\n            audioRef.current.load();\n            audioRef.current.play().catch(()=>{});\n        }\n    };\n    const goToPrevPage = ()=>{\n        if (dualMode) {\n            if (currentPage <= 1) {\n                loadPage(0);\n                return;\n            }\n            const candidate = currentPage - 2;\n            loadPage(candidate < 1 ? 1 : candidate);\n        } else {\n            loadPage(Math.max(currentPage - 1, 0));\n        }\n    };\n    const goToNextPage = ()=>{\n        if (!leftBookRef.current) return;\n        const spine = leftBookRef.current.spine;\n        var _spine_items, _ref;\n        const items = (_ref = (_spine_items = spine === null || spine === void 0 ? void 0 : spine.items) !== null && _spine_items !== void 0 ? _spine_items : spine === null || spine === void 0 ? void 0 : spine.spineItems) !== null && _ref !== void 0 ? _ref : [];\n        const total = Array.isArray(items) ? items.length : 0;\n        if (dualMode) {\n            if (currentPage === 0) {\n                loadPage(total > 1 ? 1 : 0);\n                return;\n            }\n            const candidate = currentPage + 2;\n            loadPage(candidate >= total ? Math.max(total - 2, 1) : candidate);\n        } else {\n            loadPage(Math.min(currentPage + 1, Math.max(total - 1, 0)));\n        }\n    };\n    const handleLeftPanelClick = ()=>{\n        var _leftCurrentIndexRef_current;\n        const idx = (_leftCurrentIndexRef_current = leftCurrentIndexRef.current) !== null && _leftCurrentIndexRef_current !== void 0 ? _leftCurrentIndexRef_current : currentPage;\n        if (Number.isFinite(idx)) playCurrentPageAudio(idx);\n    };\n    const handleRightPanelClick = ()=>{\n        var _rightCurrentIndexRef_current, _ref;\n        let idx = (_ref = (_rightCurrentIndexRef_current = rightCurrentIndexRef.current) !== null && _rightCurrentIndexRef_current !== void 0 ? _rightCurrentIndexRef_current : leftCurrentIndexRef.current + 1) !== null && _ref !== void 0 ? _ref : currentPage + 1;\n        if (Number.isFinite(idx)) playCurrentPageAudio(idx);\n    };\n    const startQuiz = ()=>{\n        console.log(\"[startQuiz] 클릭됨\");\n        setShowQuiz(true);\n        setUserAnswers({});\n        setQuizSubmitted(false);\n    // 이미 생성된 문제가 있으면 그대로 표시, 없으면 로딩 상태 유지\n    };\n    const handleAnswerSelect = (qIndex, optionIndex)=>{\n        if (quizSubmitted) return;\n        setUserAnswers((prev)=>({\n                ...prev,\n                [qIndex]: optionIndex\n            }));\n    };\n    const submitQuiz = ()=>{\n        setQuizSubmitted(true);\n    };\n    const closeQuiz = ()=>{\n        setShowQuiz(false);\n        setQuestions([]);\n        setUserAnswers({});\n        setQuizSubmitted(false);\n    };\n    const correctCount = questions.filter((q, i)=>userAnswers[i] === q.correctIndex).length;\n    const totalCount = questions.length;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            fontFamily: \"Arial, sans-serif\",\n            display: \"grid\",\n            gridTemplateRows: \"auto 1fr auto\",\n            height: \"100vh\",\n            position: \"relative\"\n        },\n        children: [\n            quizLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: \"fixed\",\n                    top: 0,\n                    left: 0,\n                    right: 0,\n                    bottom: 0,\n                    background: \"rgba(0,0,0,0.9)\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    zIndex: 20000\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    style: {\n                        color: \"white\",\n                        fontSize: \"18px\"\n                    },\n                    children: \"AI가 문제를 만들고 있어요... 잠시만 기다려 주세요!\"\n                }, void 0, false, {\n                    fileName: \"/Users/tom/Desktop/project/epub_viewer/components/EpubViewerWithQuiz.js\",\n                    lineNumber: 467,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/tom/Desktop/project/epub_viewer/components/EpubViewerWithQuiz.js\",\n                lineNumber: 456,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    padding: \"8px 16px\",\n                    background: \"black\",\n                    color: \"white\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"space-between\",\n                    gap: \"16px\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            gap: \"16px\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                src: \"/logo.png\",\n                                alt: \"Logo\",\n                                style: {\n                                    height: \"40px\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/tom/Desktop/project/epub_viewer/components/EpubViewerWithQuiz.js\",\n                                lineNumber: 472,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                style: {\n                                    margin: 0,\n                                    fontSize: \"18px\",\n                                    color: \"white\"\n                                },\n                                children: \"Kid's English\"\n                            }, void 0, false, {\n                                fileName: \"/Users/tom/Desktop/project/epub_viewer/components/EpubViewerWithQuiz.js\",\n                                lineNumber: 473,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/tom/Desktop/project/epub_viewer/components/EpubViewerWithQuiz.js\",\n                        lineNumber: 471,\n                        columnNumber: 9\n                    }, this),\n                    manifest && !showQuiz && questions.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: startQuiz,\n                        style: {\n                            padding: \"8px 20px\",\n                            background: \"#4a90d9\",\n                            color: \"white\",\n                            border: \"none\",\n                            borderRadius: \"8px\",\n                            cursor: \"pointer\",\n                            fontSize: \"15px\",\n                            fontWeight: \"bold\"\n                        },\n                        children: \"\\uD83D\\uDCDD 문제 풀기\"\n                    }, void 0, false, {\n                        fileName: \"/Users/tom/Desktop/project/epub_viewer/components/EpubViewerWithQuiz.js\",\n                        lineNumber: 476,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/tom/Desktop/project/epub_viewer/components/EpubViewerWithQuiz.js\",\n                lineNumber: 470,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: spreadContainerRef,\n                style: {\n                    display: \"grid\",\n                    gridTemplateColumns: dualMode ? \"1fr 1fr\" : \"1fr\",\n                    gap: 0,\n                    alignItems: \"center\",\n                    justifyItems: \"center\",\n                    width: \"100%\",\n                    height: \"100%\",\n                    background: \"#E8E8E8\",\n                    overflow: \"hidden\",\n                    position: \"relative\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        ref: leftViewerRef,\n                        onClick: handleLeftPanelClick,\n                        style: {\n                            width: \"100%\",\n                            height: \"100%\",\n                            overflow: \"hidden\",\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            justifyContent: \"flex-end\",\n                            cursor: \"pointer\"\n                        }\n                    }, void 0, false, {\n                        fileName: \"/Users/tom/Desktop/project/epub_viewer/components/EpubViewerWithQuiz.js\",\n                        lineNumber: 509,\n                        columnNumber: 9\n                    }, this),\n                    dualMode && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        ref: rightViewerRef,\n                        onClick: handleRightPanelClick,\n                        style: {\n                            width: \"100%\",\n                            height: \"100%\",\n                            overflow: \"hidden\",\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            justifyContent: \"flex-start\",\n                            cursor: \"pointer\"\n                        }\n                    }, void 0, false, {\n                        fileName: \"/Users/tom/Desktop/project/epub_viewer/components/EpubViewerWithQuiz.js\",\n                        lineNumber: 515,\n                        columnNumber: 11\n                    }, this),\n                    showQuiz && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            position: \"absolute\",\n                            top: 0,\n                            left: 0,\n                            right: 0,\n                            bottom: 0,\n                            background: \"rgba(0,0,0,0.9)\",\n                            display: \"flex\",\n                            flexDirection: \"column\",\n                            alignItems: \"center\",\n                            justifyContent: \"flex-start\",\n                            zIndex: 10000,\n                            padding: \"24px\",\n                            overflowY: \"auto\",\n                            WebkitOverflowScrolling: \"touch\"\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                maxWidth: \"600px\",\n                                width: \"100%\",\n                                background: \"#1a1a1a\",\n                                borderRadius: \"12px\",\n                                padding: \"24px\",\n                                color: \"#fff\",\n                                marginBottom: \"24px\",\n                                flexShrink: 0\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        display: \"flex\",\n                                        justifyContent: \"space-between\",\n                                        alignItems: \"center\",\n                                        marginBottom: \"20px\"\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                            style: {\n                                                margin: 0,\n                                                fontSize: \"22px\"\n                                            },\n                                            children: \"\\uD83D\\uDCDA 문제 풀기\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/tom/Desktop/project/epub_viewer/components/EpubViewerWithQuiz.js\",\n                                            lineNumber: 540,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: closeQuiz,\n                                            style: {\n                                                background: \"#333\",\n                                                color: \"#fff\",\n                                                border: \"none\",\n                                                padding: \"8px 16px\",\n                                                borderRadius: \"8px\",\n                                                cursor: \"pointer\",\n                                                fontSize: \"14px\"\n                                            },\n                                            children: \"닫기\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/tom/Desktop/project/epub_viewer/components/EpubViewerWithQuiz.js\",\n                                            lineNumber: 541,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/tom/Desktop/project/epub_viewer/components/EpubViewerWithQuiz.js\",\n                                    lineNumber: 539,\n                                    columnNumber: 15\n                                }, this),\n                                quizLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    style: {\n                                        textAlign: \"center\",\n                                        padding: \"40px\"\n                                    },\n                                    children: \"AI가 문제를 만들고 있어요... 잠시만 기다려 주세요!\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/tom/Desktop/project/epub_viewer/components/EpubViewerWithQuiz.js\",\n                                    lineNumber: 550,\n                                    columnNumber: 17\n                                }, this) : questions.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    style: {\n                                        textAlign: \"center\",\n                                        padding: \"40px\"\n                                    },\n                                    children: \"문제를 불러올 수 없었어요. 다시 시도해 주세요.\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/tom/Desktop/project/epub_viewer/components/EpubViewerWithQuiz.js\",\n                                    lineNumber: 552,\n                                    columnNumber: 17\n                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                    children: [\n                                        questions.map((q, qi)=>{\n                                            var _q_options;\n                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    marginBottom: \"24px\",\n                                                    paddingBottom: \"24px\",\n                                                    borderBottom: qi < questions.length - 1 ? \"1px solid #444\" : \"none\"\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        style: {\n                                                            marginBottom: \"12px\",\n                                                            fontSize: \"16px\",\n                                                            lineHeight: 1.5\n                                                        },\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                children: [\n                                                                    qi + 1,\n                                                                    \".\"\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/tom/Desktop/project/epub_viewer/components/EpubViewerWithQuiz.js\",\n                                                                lineNumber: 558,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            \" \",\n                                                            q.question\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/tom/Desktop/project/epub_viewer/components/EpubViewerWithQuiz.js\",\n                                                        lineNumber: 557,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            display: \"flex\",\n                                                            flexDirection: \"column\",\n                                                            gap: \"8px\"\n                                                        },\n                                                        children: ((_q_options = q.options) !== null && _q_options !== void 0 ? _q_options : []).map((opt, oi)=>{\n                                                            const isSelected = userAnswers[qi] === oi;\n                                                            const isCorrect = q.correctIndex === oi;\n                                                            const showResult = quizSubmitted;\n                                                            let bg = \"#2a2a2a\";\n                                                            if (showResult) {\n                                                                if (isCorrect) bg = \"#1a4d1a\";\n                                                                else if (isSelected && !isCorrect) bg = \"#4d1a1a\";\n                                                            } else if (isSelected) bg = \"#3a3a5a\";\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                onClick: ()=>handleAnswerSelect(qi, oi),\n                                                                disabled: quizSubmitted,\n                                                                style: {\n                                                                    padding: \"12px 16px\",\n                                                                    background: bg,\n                                                                    color: \"#fff\",\n                                                                    border: \"1px solid #555\",\n                                                                    borderRadius: \"8px\",\n                                                                    cursor: quizSubmitted ? \"default\" : \"pointer\",\n                                                                    textAlign: \"left\",\n                                                                    fontSize: \"15px\"\n                                                                },\n                                                                children: [\n                                                                    [\n                                                                        \"A\",\n                                                                        \"B\",\n                                                                        \"C\",\n                                                                        \"D\"\n                                                                    ][oi],\n                                                                    \". \",\n                                                                    opt\n                                                                ]\n                                                            }, oi, true, {\n                                                                fileName: \"/Users/tom/Desktop/project/epub_viewer/components/EpubViewerWithQuiz.js\",\n                                                                lineNumber: 571,\n                                                                columnNumber: 29\n                                                            }, this);\n                                                        })\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/tom/Desktop/project/epub_viewer/components/EpubViewerWithQuiz.js\",\n                                                        lineNumber: 560,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    quizSubmitted && q.explanation && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        style: {\n                                                            marginTop: \"12px\",\n                                                            fontSize: \"14px\",\n                                                            color: \"#aaa\"\n                                                        },\n                                                        children: [\n                                                            \"\\uD83D\\uDCA1 \",\n                                                            q.explanation\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/tom/Desktop/project/epub_viewer/components/EpubViewerWithQuiz.js\",\n                                                        lineNumber: 592,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                ]\n                                            }, qi, true, {\n                                                fileName: \"/Users/tom/Desktop/project/epub_viewer/components/EpubViewerWithQuiz.js\",\n                                                lineNumber: 556,\n                                                columnNumber: 21\n                                            }, this);\n                                        }),\n                                        !quizSubmitted ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: submitQuiz,\n                                            style: {\n                                                width: \"100%\",\n                                                padding: \"14px\",\n                                                background: \"#4a90d9\",\n                                                color: \"#fff\",\n                                                border: \"none\",\n                                                borderRadius: \"8px\",\n                                                cursor: \"pointer\",\n                                                fontSize: \"16px\",\n                                                fontWeight: \"bold\"\n                                            },\n                                            children: \"제출하기\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/tom/Desktop/project/epub_viewer/components/EpubViewerWithQuiz.js\",\n                                            lineNumber: 597,\n                                            columnNumber: 21\n                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                textAlign: \"center\",\n                                                padding: \"20px\",\n                                                fontSize: \"18px\",\n                                                fontWeight: \"bold\",\n                                                color: \"#4ade80\"\n                                            },\n                                            children: [\n                                                \"\\uD83C\\uDF89 \",\n                                                correctCount,\n                                                \" / \",\n                                                totalCount,\n                                                \" 정답!\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/tom/Desktop/project/epub_viewer/components/EpubViewerWithQuiz.js\",\n                                            lineNumber: 614,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, void 0, true)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/tom/Desktop/project/epub_viewer/components/EpubViewerWithQuiz.js\",\n                            lineNumber: 538,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/tom/Desktop/project/epub_viewer/components/EpubViewerWithQuiz.js\",\n                        lineNumber: 523,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/tom/Desktop/project/epub_viewer/components/EpubViewerWithQuiz.js\",\n                lineNumber: 494,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    padding: \"4px\",\n                    background: \"black\",\n                    borderTop: \"2px solid #ddd\",\n                    display: \"flex\",\n                    justifyContent: \"center\",\n                    alignItems: \"center\",\n                    gap: \"16px\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: goToPrevPage,\n                        disabled: currentPage === 0,\n                        style: {\n                            padding: \"4px\",\n                            fontSize: \"16px\",\n                            cursor: \"pointer\",\n                            background: \"transparent\",\n                            color: \"white\",\n                            border: \"none\",\n                            borderRadius: \"5px\"\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                            xmlns: \"http://www.w3.org/2000/svg\",\n                            fill: \"none\",\n                            viewBox: \"0 0 24 24\",\n                            strokeWidth: 1.5,\n                            stroke: \"currentColor\",\n                            width: \"24\",\n                            height: \"24\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                strokeLinecap: \"round\",\n                                strokeLinejoin: \"round\",\n                                d: \"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18\"\n                            }, void 0, false, {\n                                fileName: \"/Users/tom/Desktop/project/epub_viewer/components/EpubViewerWithQuiz.js\",\n                                lineNumber: 632,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/tom/Desktop/project/epub_viewer/components/EpubViewerWithQuiz.js\",\n                            lineNumber: 631,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/tom/Desktop/project/epub_viewer/components/EpubViewerWithQuiz.js\",\n                        lineNumber: 626,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        style: {\n                            color: \"white\",\n                            fontSize: \"16px\"\n                        },\n                        children: [\n                            currentPage + 1,\n                            \" / \",\n                            totalPages || \"?\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/tom/Desktop/project/epub_viewer/components/EpubViewerWithQuiz.js\",\n                        lineNumber: 635,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"audio\", {\n                        ref: audioRef,\n                        controls: true,\n                        style: {\n                            display: \"none\"\n                        }\n                    }, void 0, false, {\n                        fileName: \"/Users/tom/Desktop/project/epub_viewer/components/EpubViewerWithQuiz.js\",\n                        lineNumber: 638,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: goToNextPage,\n                        disabled: totalPages > 0 && currentPage >= totalPages - 1,\n                        style: {\n                            padding: \"4px\",\n                            fontSize: \"16px\",\n                            cursor: \"pointer\",\n                            background: \"transparent\",\n                            color: \"white\",\n                            border: \"none\",\n                            borderRadius: \"5px\"\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                            xmlns: \"http://www.w3.org/2000/svg\",\n                            fill: \"none\",\n                            viewBox: \"0 0 24 24\",\n                            strokeWidth: 1.5,\n                            stroke: \"currentColor\",\n                            width: \"24\",\n                            height: \"24\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                strokeLinecap: \"round\",\n                                strokeLinejoin: \"round\",\n                                d: \"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3\"\n                            }, void 0, false, {\n                                fileName: \"/Users/tom/Desktop/project/epub_viewer/components/EpubViewerWithQuiz.js\",\n                                lineNumber: 645,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/tom/Desktop/project/epub_viewer/components/EpubViewerWithQuiz.js\",\n                            lineNumber: 644,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/tom/Desktop/project/epub_viewer/components/EpubViewerWithQuiz.js\",\n                        lineNumber: 639,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/tom/Desktop/project/epub_viewer/components/EpubViewerWithQuiz.js\",\n                lineNumber: 625,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/tom/Desktop/project/epub_viewer/components/EpubViewerWithQuiz.js\",\n        lineNumber: 454,\n        columnNumber: 5\n    }, this);\n}\n_s(EpubViewerWithQuiz, \"4jXI5LBNCuWv/m6btBP4BTDAA2c=\");\n_c = EpubViewerWithQuiz;\nvar _c;\n$RefreshReg$(_c, \"EpubViewerWithQuiz\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvRXB1YlZpZXdlcldpdGhRdWl6LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUUyRDtBQUU1QyxTQUFTSTtRQTZCSEM7O0lBNUJuQixNQUFNQyxxQkFBcUJKLDZDQUFNQSxDQUFDO0lBQ2xDLE1BQU1LLGdCQUFnQkwsNkNBQU1BLENBQUM7SUFDN0IsTUFBTU0saUJBQWlCTiw2Q0FBTUEsQ0FBQztJQUM5QixNQUFNTyxXQUFXUCw2Q0FBTUEsQ0FBQztJQUN4QixNQUFNUSxjQUFjUiw2Q0FBTUEsQ0FBQztJQUMzQixNQUFNUyxlQUFlVCw2Q0FBTUEsQ0FBQztJQUM1QixNQUFNVSxtQkFBbUJWLDZDQUFNQSxDQUFDO0lBQ2hDLE1BQU1XLG9CQUFvQlgsNkNBQU1BLENBQUM7SUFDakMsTUFBTVksc0JBQXNCWiw2Q0FBTUEsQ0FBQztJQUNuQyxNQUFNYSx1QkFBdUJiLDZDQUFNQSxDQUFDO0lBRXBDLE1BQU0sQ0FBQ0csVUFBVVcsWUFBWSxHQUFHYiwrQ0FBUUEsQ0FBQztJQUN6QyxNQUFNLENBQUNjLGFBQWFDLGVBQWUsR0FBR2YsK0NBQVFBLENBQUM7SUFDL0MsTUFBTSxDQUFDZ0IsVUFBVUMsWUFBWSxHQUFHakIsK0NBQVFBLENBQUM7SUFDekMsTUFBTSxDQUFDa0IsVUFBVUMsWUFBWSxHQUFHbkIsK0NBQVFBLENBQUM7SUFDekMsTUFBTSxDQUFDb0IsYUFBYUMsZUFBZSxHQUFHckIsK0NBQVFBLENBQUM7SUFDL0MsTUFBTSxDQUFDc0IsV0FBV0MsYUFBYSxHQUFHdkIsK0NBQVFBLENBQUMsRUFBRTtJQUM3QyxNQUFNLENBQUN3QixhQUFhQyxlQUFlLEdBQUd6QiwrQ0FBUUEsQ0FBQyxDQUFDO0lBQ2hELE1BQU0sQ0FBQzBCLGVBQWVDLGlCQUFpQixHQUFHM0IsK0NBQVFBLENBQUM7SUFFbkQsTUFBTTRCLGNBQWM3Qiw2Q0FBTUEsQ0FBQztJQUMzQkQsZ0RBQVNBO3dDQUFDO1lBQ1I4QixZQUFZQyxPQUFP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LGdCQUFlO2dDQUFRQyxHQUFFOzs7Ozs7Ozs7Ozs7Ozs7O2tDQUd6RCw4REFBQzlNO3dCQUFFb0IsT0FBTzs0QkFBRThJLE9BQU87NEJBQVNDLFVBQVU7d0JBQU87OzRCQUMxQ2hOLGNBQWM7NEJBQUU7NEJBQUltQixjQUFjOzs7Ozs7O2tDQUVyQyw4REFBQ3lPO3dCQUFNcEMsS0FBS2hPO3dCQUFVcVEsUUFBUTt3QkFBQzVMLE9BQU87NEJBQUVJLFNBQVM7d0JBQU87Ozs7OztrQ0FDeEQsOERBQUMrSTt3QkFDQ0MsU0FBU2pDO3dCQUNUMEQsVUFBVTNOLGFBQWEsS0FBS25CLGVBQWVtQixhQUFhO3dCQUN4RDhDLE9BQU87NEJBQUVxRixTQUFTOzRCQUFPMEQsVUFBVTs0QkFBUU0sUUFBUTs0QkFBV1gsWUFBWTs0QkFBZUksT0FBTzs0QkFBUzNJLFFBQVE7NEJBQVF3RixjQUFjO3dCQUFNO2tDQUU3SSw0RUFBQ3NGOzRCQUFJQyxPQUFNOzRCQUE2QkMsTUFBSzs0QkFBT0MsU0FBUTs0QkFBWUMsYUFBYTs0QkFBS0MsUUFBTzs0QkFBZXJMLE9BQU07NEJBQUtDLFFBQU87c0NBQ2hJLDRFQUFDcUw7Z0NBQUtDLGVBQWM7Z0NBQVFDLGdCQUFlO2dDQUFRQyxHQUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTWpFO0dBdG9Cd0J4UTtLQUFBQSIsInNvdXJjZXMiOlsiL1VzZXJzL3RvbS9EZXNrdG9wL3Byb2plY3QvZXB1Yl92aWV3ZXIvY29tcG9uZW50cy9FcHViVmlld2VyV2l0aFF1aXouanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRXB1YlZpZXdlcldpdGhRdWl6KCkge1xuICBjb25zdCBzcHJlYWRDb250YWluZXJSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IGxlZnRWaWV3ZXJSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IHJpZ2h0Vmlld2VyUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBhdWRpb1JlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgbGVmdEJvb2tSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IHJpZ2h0Qm9va1JlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgbGVmdFJlbmRpdGlvblJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgcmlnaHRSZW5kaXRpb25SZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IGxlZnRDdXJyZW50SW5kZXhSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IHJpZ2h0Q3VycmVudEluZGV4UmVmID0gdXNlUmVmKG51bGwpO1xuXG4gIGNvbnN0IFttYW5pZmVzdCwgc2V0TWFuaWZlc3RdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtjdXJyZW50UGFnZSwgc2V0Q3VycmVudFBhZ2VdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFtkdWFsTW9kZSwgc2V0RHVhbE1vZGVdID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtzaG93UXVpeiwgc2V0U2hvd1F1aXpdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcXVpekxvYWRpbmcsIHNldFF1aXpMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbcXVlc3Rpb25zLCBzZXRRdWVzdGlvbnNdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbdXNlckFuc3dlcnMsIHNldFVzZXJBbnN3ZXJzXSA9IHVzZVN0YXRlKHt9KTtcbiAgY29uc3QgW3F1aXpTdWJtaXR0ZWQsIHNldFF1aXpTdWJtaXR0ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIGNvbnN0IG1hbmlmZXN0UmVmID0gdXNlUmVmKG51bGwpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIG1hbmlmZXN0UmVmLmN1cnJlbnQgPSBtYW5pZmVzdDtcbiAgfSwgW21hbmlmZXN0XSk7XG5cbiAgY29uc3QgbG9hZFBhZ2VSZWYgPSB1c2VSZWYoKCkgPT4ge30pO1xuICBsb2FkUGFnZVJlZi5jdXJyZW50ID0gKGlkeCkgPT4gbG9hZFBhZ2UoaWR4KTtcblxuICBjb25zdCB0b3RhbFBhZ2VzID0gbWFuaWZlc3Q/LnBhZ2VzPy5sZW5ndGggPz8gMDtcbiAgY29uc3QgaXNMYXN0UGFnZSA9IHRvdGFsUGFnZXMgPiAwICYmIGN1cnJlbnRQYWdlID49IHRvdGFsUGFnZXMgLSAxO1xuXG4gIC8vIOuniOyatO2KuCDsi5wg66Gc6re4XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc29sZS5sb2coXCJbRXB1YlZpZXdlcl0g7Lu07Y+s64SM7Yq4IOuniOyatO2KuOuQqFwiKTtcbiAgICByZXR1cm4gKCkgPT4gY29uc29sZS5sb2coXCJbRXB1YlZpZXdlcl0g7Lu07Y+s64SM7Yq4IOyWuOuniOyatO2KuOuQqFwiKTtcbiAgfSwgW10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybjtcbiAgICBjb25zdCBvcGZVcmwgPVxuICAgICAgXCJodHRwczovL2ZpbGVzLWtpZHMtZW5nbGlzaC5zMy5hcC1ub3J0aGVhc3QtMi5hbWF6b25hd3MuY29tL2Jvb2tzL3VybiUzQXV1aWQlM0FwdWJsaXNoaW5nLTNlMWQyN2RmL2VwdWIvT0VCUFMvY29udGVudC5vcGZcIjtcbiAgICBjb25zdCBtYW5pZmVzdFVybCA9XG4gICAgICBcImh0dHBzOi8vZmlsZXMta2lkcy1lbmdsaXNoLnMzLmFwLW5vcnRoZWFzdC0yLmFtYXpvbmF3cy5jb20vYm9va3MvdXJuJTNBdXVpZCUzQXB1Ymxpc2hpbmctM2UxZDI3ZGYvbWFuaWZlc3QuanNvblwiO1xuXG4gICAgY29uc3QgaW5pdCA9IGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IFttYW5pZmVzdFJlcywgZVB1Yk1vZHVsZV0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIGZldGNoKG1hbmlmZXN0VXJsKS50aGVuKChyKSA9PiByLmpzb24oKSksXG4gICAgICAgIGltcG9ydChcImVwdWJqc1wiKS50aGVuKChtKSA9PiBtLmRlZmF1bHQpLFxuICAgICAgXSk7XG4gICAgICBjb25zb2xlLmxvZyhcIltFcHViVmlld2VyXSBtYW5pZmVzdCDroZzrk5zrkKgsIHBhZ2VzOlwiLCBtYW5pZmVzdFJlcz8ucGFnZXM/Lmxlbmd0aCk7XG4gICAgICBzZXRNYW5pZmVzdChtYW5pZmVzdFJlcyk7XG4gICAgICBjb25zdCBlUHViID0gZVB1Yk1vZHVsZTtcbiAgICAgIGNvbnN0IGxlZnRCb29rID0gZVB1YihvcGZVcmwpO1xuICAgICAgY29uc3QgcmlnaHRCb29rID0gZVB1YihvcGZVcmwpO1xuICAgICAgbGVmdEJvb2tSZWYuY3VycmVudCA9IGxlZnRCb29rO1xuICAgICAgcmlnaHRCb29rUmVmLmN1cnJlbnQgPSByaWdodEJvb2s7XG4gICAgICBhd2FpdCBQcm9taXNlLmFsbChbbGVmdEJvb2sucmVhZHksIHJpZ2h0Qm9vay5yZWFkeV0pO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiBsb2FkUGFnZVJlZi5jdXJyZW50KDApLCAwKTtcbiAgICB9O1xuICAgIGluaXQoKTtcbiAgfSwgW10pO1xuXG4gIC8vIOyxhSDroZzrk5wg7ZuEIOymieyLnCDrrLjsoJwg7IOd7ISxIOyLnOyekVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghbWFuaWZlc3Q/LnBhZ2VzPy5sZW5ndGgpIHJldHVybjtcbiAgICBjb25zdCBib29rVGV4dCA9IG1hbmlmZXN0LnBhZ2VzXG4gICAgICAubWFwKChwKSA9PiAodHlwZW9mIHA/LnRleHQgPT09IFwic3RyaW5nXCIgPyBwLnRleHQudHJpbSgpIDogXCJcIikpXG4gICAgICAuZmlsdGVyKEJvb2xlYW4pXG4gICAgICAuam9pbihcIlxcblxcblwiKVxuICAgICAgLnRyaW0oKTtcbiAgICBpZiAoIWJvb2tUZXh0KSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJbRXB1YlZpZXdlcl0gbWFuaWZlc3Tsl5Ag7YWN7Iqk7Yq4IOyXhuydjFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc29sZS5sb2coXCJbRXB1YlZpZXdlcl0g7LGFIOuhnOuTnCDsmYTro4wsIOusuOygnCDsg53shLEg7Iuc7J6RLCB0ZXh0IOq4uOydtDpcIiwgYm9va1RleHQubGVuZ3RoKTtcbiAgICBzZXRRdWl6TG9hZGluZyh0cnVlKTtcbiAgICBmZXRjaChcIi9hcGkvZ2VuZXJhdGUtcXVlc3Rpb25zXCIsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGJvb2tUZXh0IH0pLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgaWYgKGRhdGEucXVlc3Rpb25zPy5sZW5ndGgpIHtcbiAgICAgICAgICBzZXRRdWVzdGlvbnMoZGF0YS5xdWVzdGlvbnMpO1xuICAgICAgICAgIHNldFF1aXpMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIltFcHViVmlld2VyXSDrrLjsoJwg7IOd7ISxIOyZhOujjDpcIiwgZGF0YS5xdWVzdGlvbnMubGVuZ3RoLCBcIuqwnFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiW0VwdWJWaWV3ZXJdIOusuOygnCDsg53shLEg7Iuk7YyoOlwiLCBkYXRhLmVycm9yID8/IGRhdGEpO1xuICAgICAgICAgIHNldFF1aXpMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJbRXB1YlZpZXdlcl0g66y47KCcIOyDneyEsSDsmKTrpZg6XCIsIGVycik7XG4gICAgICAgIHNldFF1aXpMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH0pO1xuICB9LCBbbWFuaWZlc3RdKTtcblxuICBjb25zdCBpbmplY3RSZXNldCA9IChpZnJhbWUsIHNpZGUpID0+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKCFpZnJhbWUpIHJldHVybjtcbiAgICAgIGlmcmFtZS5zdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xuICAgICAgaWZyYW1lLnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xuICAgICAgaWZyYW1lLnN0eWxlLmJvcmRlciA9IFwiMFwiO1xuICAgICAgaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICBjb25zdCBkb2MgPSBpZnJhbWUuY29udGVudERvY3VtZW50IHx8IGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50O1xuICAgICAgY29uc3Qgc3R5bGUgPSBkb2MuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICAgICAgY29uc3QganVzdGlmeSA9IHNpZGUgPT09IFwibGVmdFwiID8gXCJmbGV4LWVuZFwiIDogXCJmbGV4LXN0YXJ0XCI7XG4gICAgICBzdHlsZS50ZXh0Q29udGVudCA9IGBcbiAgICAgICAgQHBhZ2V7bWFyZ2luOjAgIWltcG9ydGFudDt9XG4gICAgICAgIGh0bWwsYm9keSw6cm9vdHttYXJnaW46MCAhaW1wb3J0YW50O3BhZGRpbmc6MCAhaW1wb3J0YW50O2hlaWdodDoxMDAlICFpbXBvcnRhbnQ7bWluLXdpZHRoOjAgIWltcG9ydGFudDtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50ICFpbXBvcnRhbnR9XG4gICAgICAgICp7Ym94LXNpemluZzpib3JkZXItYm94ICFpbXBvcnRhbnQ7bWFyZ2luOjAgIWltcG9ydGFudDtwYWRkaW5nOjAgIWltcG9ydGFudDtib3JkZXI6MCAhaW1wb3J0YW50O2JvcmRlci1yYWRpdXM6MCAhaW1wb3J0YW50O3BvaW50ZXItZXZlbnRzOmF1dG8gIWltcG9ydGFudH1cbiAgICAgICAgYm9keXtkaXNwbGF5OmZsZXggIWltcG9ydGFudDthbGlnbi1pdGVtczpjZW50ZXIgIWltcG9ydGFudDtqdXN0aWZ5LWNvbnRlbnQ6JHtqdXN0aWZ5fSAhaW1wb3J0YW50Oy13ZWJraXQtY29sdW1uLWNvdW50OmluaXRpYWwgIWltcG9ydGFudDtjb2x1bW4tY291bnQ6aW5pdGlhbCAhaW1wb3J0YW50Oy13ZWJraXQtY29sdW1uLWdhcDowICFpbXBvcnRhbnQ7Y29sdW1uLWdhcDowICFpbXBvcnRhbnQ7b3ZlcmZsb3c6aGlkZGVuICFpbXBvcnRhbnR9XG4gICAgICAgIGJvZHkgPiAqe21hcmdpbjowICFpbXBvcnRhbnQ7cGFkZGluZzowICFpbXBvcnRhbnQ7Ym9yZGVyOjAgIWltcG9ydGFudDtib3JkZXItcmFkaXVzOjAgIWltcG9ydGFudH1cbiAgICAgICAgcCxmaWd1cmUsc2VjdGlvbixhcnRpY2xlLGRpdnttYXJnaW46MCAhaW1wb3J0YW50O3BhZGRpbmc6MCAhaW1wb3J0YW50O2JvcmRlcjowICFpbXBvcnRhbnQ7Ym9yZGVyLXJhZGl1czowICFpbXBvcnRhbnR9XG4gICAgICAgIGltZyxzdmcsY2FudmFzLHZpZGVve21heC13aWR0aDoxMDAlICFpbXBvcnRhbnQ7aGVpZ2h0OmF1dG8gIWltcG9ydGFudDtkaXNwbGF5OmJsb2NrICFpbXBvcnRhbnQ7bWFyZ2luOjAgIWltcG9ydGFudDtwYWRkaW5nOjAgIWltcG9ydGFudDtib3JkZXI6MCAhaW1wb3J0YW50O2JvcmRlci1yYWRpdXM6MCAhaW1wb3J0YW50fVxuICAgICAgICBmaWd1cmUsLnBhZ2Usc2VjdGlvbixhcnRpY2xlLGRpdnttYXJnaW46MCAhaW1wb3J0YW50O3BhZGRpbmc6MCAhaW1wb3J0YW50O2JvcmRlcjowICFpbXBvcnRhbnQ7Ym9yZGVyLXJhZGl1czowICFpbXBvcnRhbnQ7bWluLXdpZHRoOjAgIWltcG9ydGFudH1cbiAgICAgICAgLnBhZ2UtdGV4dCwudGV4dExheWVyLC5sYXllci10ZXh0e2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fVxuICAgICAgICBhe3BvaW50ZXItZXZlbnRzOmF1dG8gIWltcG9ydGFudH1cbiAgICAgIGA7XG4gICAgICBkb2MuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgICBpZiAoIWRvYy5xdWVyeVNlbGVjdG9yKCdtZXRhW25hbWU9XCJ2aWV3cG9ydFwiXScpKSB7XG4gICAgICAgIGNvbnN0IG1ldGEgPSBkb2MuY3JlYXRlRWxlbWVudChcIm1ldGFcIik7XG4gICAgICAgIG1ldGEubmFtZSA9IFwidmlld3BvcnRcIjtcbiAgICAgICAgbWV0YS5jb250ZW50ID0gXCJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSwgbWF4aW11bS1zY2FsZT0xLCB1c2VyLXNjYWxhYmxlPW5vXCI7XG4gICAgICAgIGRvYy5oZWFkLmFwcGVuZENoaWxkKG1ldGEpO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGRvYy5kb2N1bWVudEVsZW1lbnQ/LnN0eWxlKSB7XG4gICAgICAgICAgZG9jLmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcIm1hcmdpblwiLCBcIjBcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgICAgZG9jLmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcInBhZGRpbmdcIiwgXCIwXCIsIFwiaW1wb3J0YW50XCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkb2MuYm9keT8uc3R5bGUpIHtcbiAgICAgICAgICBkb2MuYm9keS5zdHlsZS5zZXRQcm9wZXJ0eShcIm1hcmdpblwiLCBcIjBcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgICAgZG9jLmJvZHkuc3R5bGUuc2V0UHJvcGVydHkoXCJwYWRkaW5nXCIsIFwiMFwiLCBcImltcG9ydGFudFwiKTtcbiAgICAgICAgICBkb2MuYm9keS5zdHlsZS5zZXRQcm9wZXJ0eShcImRpc3BsYXlcIiwgXCJmbGV4XCIsIFwiaW1wb3J0YW50XCIpO1xuICAgICAgICAgIGRvYy5ib2R5LnN0eWxlLnNldFByb3BlcnR5KFwiYWxpZ24taXRlbXNcIiwgXCJjZW50ZXJcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgICAgZG9jLmJvZHkuc3R5bGUuc2V0UHJvcGVydHkoXCJqdXN0aWZ5LWNvbnRlbnRcIiwganVzdGlmeSwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRvYy5ib2R5KSB7XG4gICAgICAgICAgQXJyYXkuZnJvbShkb2MuYm9keS5jaGlsZHJlbikuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgICAgIGlmIChlbD8uc3R5bGUpIHtcbiAgICAgICAgICAgICAgZWwuc3R5bGUuc2V0UHJvcGVydHkoXCJtYXJnaW5cIiwgXCIwXCIsIFwiaW1wb3J0YW50XCIpO1xuICAgICAgICAgICAgICBlbC5zdHlsZS5zZXRQcm9wZXJ0eShcInBhZGRpbmdcIiwgXCIwXCIsIFwiaW1wb3J0YW50XCIpO1xuICAgICAgICAgICAgICBlbC5zdHlsZS5zZXRQcm9wZXJ0eShcImJvcmRlclwiLCBcIjBcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgICAgICAgIGVsLnN0eWxlLnNldFByb3BlcnR5KFwiYm9yZGVyLXJhZGl1c1wiLCBcIjBcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2gge31cbiAgICAgIGRvYy5xdWVyeVNlbGVjdG9yQWxsKFwiLnBhZ2UtdGV4dCwgLnRleHRMYXllciwgLmxheWVyLXRleHRcIikuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgfSk7XG4gICAgfSBjYXRjaCB7fVxuICB9O1xuXG4gIGNvbnN0IGVuc3VyZUNsaWNrQ2F0Y2hlciA9IChjb250YWluZXIsIHNpZGUsIGluZGV4UHJvdmlkZXIpID0+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKCFjb250YWluZXIpIHJldHVybjtcbiAgICAgIGNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9IGNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiB8fCBcInJlbGF0aXZlXCI7XG4gICAgICBjb25zdCBpZCA9IHNpZGUgPT09IFwibGVmdFwiID8gXCJjbGljay1jYXRjaGVyLWxlZnRcIiA6IFwiY2xpY2stY2F0Y2hlci1yaWdodFwiO1xuICAgICAgbGV0IGNhdGNoZXIgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcihgIyR7aWR9YCk7XG4gICAgICBpZiAoIWNhdGNoZXIpIHtcbiAgICAgICAgY2F0Y2hlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGNhdGNoZXIuaWQgPSBpZDtcbiAgICAgICAgY2F0Y2hlci5zdHlsZS5jc3NUZXh0ID0gXCJwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtyaWdodDowO2JvdHRvbTowO2xlZnQ6MDt6LWluZGV4Ojk5OTk7YmFja2dyb3VuZDp0cmFuc3BhcmVudDtwb2ludGVyLWV2ZW50czphdXRvO2N1cnNvcjpwb2ludGVyXCI7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjYXRjaGVyKTtcbiAgICAgIH1cbiAgICAgIGNhdGNoZXIub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgaWR4ID0gaW5kZXhQcm92aWRlcigpO1xuICAgICAgICBpZiAoTnVtYmVyLmlzRmluaXRlKGlkeCkpIHBsYXlDdXJyZW50UGFnZUF1ZGlvKGlkeCk7XG4gICAgICB9O1xuICAgIH0gY2F0Y2gge31cbiAgfTtcblxuICBjb25zdCBhdHRhY2hDbGlja0hhbmRsZXJzVG9Eb2MgPSAoZG9jLCBnZXRJbmRleCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgY29uc3QgaWR4ID0gZ2V0SW5kZXgoKTtcbiAgICAgICAgaWYgKE51bWJlci5pc0Zpbml0ZShpZHgpKSBwbGF5Q3VycmVudFBhZ2VBdWRpbyhpZHgpO1xuICAgICAgfSwgdHJ1ZSk7XG4gICAgfSBjYXRjaCB7fVxuICAgIHRyeSB7XG4gICAgICBpZiAoZG9jLmJvZHkpIHtcbiAgICAgICAgZG9jLmJvZHkub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgICBjb25zdCBpZHggPSBnZXRJbmRleCgpO1xuICAgICAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUoaWR4KSkgcGxheUN1cnJlbnRQYWdlQXVkaW8oaWR4KTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIHt9XG4gIH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBjb250YWluZXIgPSBzcHJlYWRDb250YWluZXJSZWYuY3VycmVudDtcbiAgICBpZiAoIWNvbnRhaW5lcikgcmV0dXJuO1xuICAgIGNvbnN0IGhhbmRsZVJlc2l6ZSA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHdpZHRoID0gY29udGFpbmVyLmNsaWVudFdpZHRoIHx8IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgY29uc3QgaGVpZ2h0ID0gY29udGFpbmVyLmNsaWVudEhlaWdodCB8fCB3aW5kb3cuaW5uZXJIZWlnaHQgLSAxNTA7XG4gICAgICBjb25zdCBuZXh0RHVhbCA9IHdpZHRoID49IDkwMDtcbiAgICAgIHNldER1YWxNb2RlKG5leHREdWFsKTtcbiAgICAgIGNvbnN0IHBhbmVsV2lkdGggPSBuZXh0RHVhbCA/IE1hdGguZmxvb3Iod2lkdGggLyAyKSA6IHdpZHRoO1xuICAgICAgdHJ5IHsgbGVmdFJlbmRpdGlvblJlZi5jdXJyZW50Py5yZXNpemUocGFuZWxXaWR0aCwgaGVpZ2h0KTsgfSBjYXRjaCB7fVxuICAgICAgdHJ5IHsgcmlnaHRSZW5kaXRpb25SZWYuY3VycmVudD8ucmVzaXplKHBhbmVsV2lkdGgsIGhlaWdodCk7IH0gY2F0Y2gge31cbiAgICB9O1xuICAgIGNvbnN0IHJvID0gbmV3IFJlc2l6ZU9ic2VydmVyKCgpID0+IGhhbmRsZVJlc2l6ZSgpKTtcbiAgICByby5vYnNlcnZlKGNvbnRhaW5lcik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgaGFuZGxlUmVzaXplKTtcbiAgICBzZXRUaW1lb3V0KGhhbmRsZVJlc2l6ZSwgMCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHJvLmRpc2Nvbm5lY3QoKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGhhbmRsZVJlc2l6ZSk7XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IHN0b3BDdXJyZW50QXVkaW8gPSAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChhdWRpb1JlZi5jdXJyZW50KSB7XG4gICAgICAgIGF1ZGlvUmVmLmN1cnJlbnQucGF1c2UoKTtcbiAgICAgICAgYXVkaW9SZWYuY3VycmVudC5jdXJyZW50VGltZSA9IDA7XG4gICAgICB9XG4gICAgfSBjYXRjaCB7fVxuICB9O1xuXG4gIGNvbnN0IGxvYWRQYWdlID0gKGluZGV4KSA9PiB7XG4gICAgc3RvcEN1cnJlbnRBdWRpbygpO1xuICAgIGlmICghbGVmdEJvb2tSZWYuY3VycmVudCB8fCAhcmlnaHRCb29rUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICBjb25zdCBzcGluZSA9IGxlZnRCb29rUmVmLmN1cnJlbnQuc3BpbmU7XG4gICAgY29uc3QgaXRlbXMgPSBzcGluZT8uaXRlbXMgPz8gc3BpbmU/LnNwaW5lSXRlbXMgPz8gW107XG4gICAgY29uc3Qgc3BpbmVMZW4gPSBBcnJheS5pc0FycmF5KGl0ZW1zKSA/IGl0ZW1zLmxlbmd0aCA6IDA7XG4gICAgaWYgKCFzcGluZUxlbikgcmV0dXJuO1xuXG4gICAgaWYgKGR1YWxNb2RlICYmIGluZGV4ID09PSAwKSB7XG4gICAgICBjb25zdCByaWdodEhyZWZPbmx5ID0gaXRlbXNbMF0/LmhyZWY7XG4gICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICB3aWR0aDogXCIxMDAlXCIsIGhlaWdodDogXCIxMDAlXCIsIGZsb3c6IFwicGFnaW5hdGVkXCIsIHNwcmVhZDogXCJub25lXCIsXG4gICAgICAgIGFsbG93U2NyaXB0ZWRDb250ZW50OiB0cnVlLCBtaW5TcHJlYWRXaWR0aDogMCxcbiAgICAgIH07XG4gICAgICB0cnkge1xuICAgICAgICBpZiAobGVmdFZpZXdlclJlZi5jdXJyZW50KSBsZWZ0Vmlld2VyUmVmLmN1cnJlbnQuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgICAgaWYgKGxlZnRSZW5kaXRpb25SZWYuY3VycmVudD8uZGVzdHJveSkge1xuICAgICAgICAgIGxlZnRSZW5kaXRpb25SZWYuY3VycmVudC5kZXN0cm95KCk7XG4gICAgICAgICAgbGVmdFJlbmRpdGlvblJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCB7fVxuICAgICAgaWYgKHJpZ2h0Vmlld2VyUmVmLmN1cnJlbnQgJiYgIXJpZ2h0UmVuZGl0aW9uUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgcmlnaHRSZW5kaXRpb25SZWYuY3VycmVudCA9IHJpZ2h0Qm9va1JlZi5jdXJyZW50LnJlbmRlclRvKHJpZ2h0Vmlld2VyUmVmLmN1cnJlbnQsIG9wdGlvbnMpO1xuICAgICAgICByaWdodFJlbmRpdGlvblJlZi5jdXJyZW50Lm9uKFwicmVuZGVyZWRcIiwgKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGlmcmFtZSA9IHJpZ2h0Vmlld2VyUmVmLmN1cnJlbnQ/LnF1ZXJ5U2VsZWN0b3IoXCJpZnJhbWVcIik7XG4gICAgICAgICAgaW5qZWN0UmVzZXQoaWZyYW1lLCBcInJpZ2h0XCIpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChyaWdodEhyZWZPbmx5ICYmIHJpZ2h0UmVuZGl0aW9uUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgcmlnaHRSZW5kaXRpb25SZWYuY3VycmVudC5kaXNwbGF5KHJpZ2h0SHJlZk9ubHkpLmNhdGNoKCgpID0+IHt9KTtcbiAgICAgIH1cbiAgICAgIGlmIChyaWdodFZpZXdlclJlZi5jdXJyZW50KSBlbnN1cmVDbGlja0NhdGNoZXIocmlnaHRWaWV3ZXJSZWYuY3VycmVudCwgXCJyaWdodFwiLCAoKSA9PiAwKTtcbiAgICAgIGxlZnRDdXJyZW50SW5kZXhSZWYuY3VycmVudCA9IG51bGw7XG4gICAgICByaWdodEN1cnJlbnRJbmRleFJlZi5jdXJyZW50ID0gMDtcbiAgICAgIHNldEN1cnJlbnRQYWdlKDApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBsZWZ0SW5kZXg7XG4gICAgaWYgKGR1YWxNb2RlKSB7XG4gICAgICBsZWZ0SW5kZXggPSBpbmRleCA8PSAwID8gMSA6IChpbmRleCAlIDIgPT09IDEgPyBpbmRleCA6IGluZGV4ICsgMSk7XG4gICAgICBpZiAobGVmdEluZGV4ID49IHNwaW5lTGVuKSBsZWZ0SW5kZXggPSBNYXRoLm1heChzcGluZUxlbiAtIDIsIDApO1xuICAgICAgaWYgKGxlZnRJbmRleCA8IDEgJiYgc3BpbmVMZW4gPiAxKSBsZWZ0SW5kZXggPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZWZ0SW5kZXggPSBNYXRoLm1heCgwLCBNYXRoLm1pbihpbmRleCwgc3BpbmVMZW4gLSAxKSk7XG4gICAgfVxuXG4gICAgY29uc3QgbGVmdEhyZWYgPSBpdGVtc1tsZWZ0SW5kZXhdPy5ocmVmO1xuICAgIGxldCByaWdodEhyZWYgPSBkdWFsTW9kZSAmJiBsZWZ0SW5kZXggKyAxIDwgc3BpbmVMZW4gPyBpdGVtc1tsZWZ0SW5kZXggKyAxXT8uaHJlZiA6IHVuZGVmaW5lZDtcblxuICAgIGlmIChkdWFsTW9kZSAmJiBsZWZ0SW5kZXggPT09IHNwaW5lTGVuIC0gMSkge1xuICAgICAgcmlnaHRIcmVmID0gdW5kZWZpbmVkO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKHJpZ2h0Vmlld2VyUmVmLmN1cnJlbnQpIHJpZ2h0Vmlld2VyUmVmLmN1cnJlbnQuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgICAgaWYgKHJpZ2h0UmVuZGl0aW9uUmVmLmN1cnJlbnQ/LmRlc3Ryb3kpIHtcbiAgICAgICAgICByaWdodFJlbmRpdGlvblJlZi5jdXJyZW50LmRlc3Ryb3koKTtcbiAgICAgICAgICByaWdodFJlbmRpdGlvblJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCB7fVxuICAgIH1cblxuICAgIGxlZnRDdXJyZW50SW5kZXhSZWYuY3VycmVudCA9IGxlZnRJbmRleDtcbiAgICByaWdodEN1cnJlbnRJbmRleFJlZi5jdXJyZW50ID0gcmlnaHRIcmVmID8gbGVmdEluZGV4ICsgMSA6IG51bGw7XG5cbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgd2lkdGg6IFwiMTAwJVwiLCBoZWlnaHQ6IFwiMTAwJVwiLCBmbG93OiBcInBhZ2luYXRlZFwiLCBzcHJlYWQ6IFwibm9uZVwiLFxuICAgICAgYWxsb3dTY3JpcHRlZENvbnRlbnQ6IHRydWUsIG1pblNwcmVhZFdpZHRoOiAwLFxuICAgIH07XG5cbiAgICBpZiAoIWxlZnRSZW5kaXRpb25SZWYuY3VycmVudCAmJiBsZWZ0Vmlld2VyUmVmLmN1cnJlbnQpIHtcbiAgICAgIGxlZnRSZW5kaXRpb25SZWYuY3VycmVudCA9IGxlZnRCb29rUmVmLmN1cnJlbnQucmVuZGVyVG8obGVmdFZpZXdlclJlZi5jdXJyZW50LCBvcHRpb25zKTtcbiAgICAgIGxlZnRSZW5kaXRpb25SZWYuY3VycmVudC50aGVtZXMucmVnaXN0ZXIoXCJvdmVycmlkZVwiLCB7XG4gICAgICAgIFwiQHBhZ2VcIjogeyBtYXJnaW46IFwiMCAhaW1wb3J0YW50XCIgfSxcbiAgICAgICAgXCJodG1sLCBib2R5XCI6IHsgbWFyZ2luOiBcIjAgIWltcG9ydGFudFwiLCBwYWRkaW5nOiBcIjAgIWltcG9ydGFudFwiLCBoZWlnaHQ6IFwiMTAwJSAhaW1wb3J0YW50XCIsIG1pbldpZHRoOiBcIjAgIWltcG9ydGFudFwiIH0sXG4gICAgICAgIFwiKlwiOiB7IGJveFNpemluZzogXCJib3JkZXItYm94ICFpbXBvcnRhbnRcIiB9LFxuICAgICAgICBcImltZywgc3ZnLCBjYW52YXMsIHZpZGVvXCI6IHsgd2lkdGg6IFwiMTAwJSAhaW1wb3J0YW50XCIsIGhlaWdodDogXCIxMDAlICFpbXBvcnRhbnRcIiwgbWF4V2lkdGg6IFwiMTAwJSAhaW1wb3J0YW50XCIsIG1heEhlaWdodDogXCIxMDAlICFpbXBvcnRhbnRcIiwgb2JqZWN0Rml0OiBcImNvbnRhaW4gIWltcG9ydGFudFwiLCBkaXNwbGF5OiBcImJsb2NrICFpbXBvcnRhbnRcIiwgbWFyZ2luOiBcIjAgIWltcG9ydGFudFwiLCBwYWRkaW5nOiBcIjAgIWltcG9ydGFudFwiLCBib3JkZXI6IFwiMCAhaW1wb3J0YW50XCIsIGJvcmRlclJhZGl1czogXCIwICFpbXBvcnRhbnRcIiB9LFxuICAgICAgICBcImZpZ3VyZSwgLnBhZ2UsIHNlY3Rpb24sIGFydGljbGUsIGRpdlwiOiB7IG1hcmdpbjogXCIwICFpbXBvcnRhbnRcIiwgcGFkZGluZzogXCIwICFpbXBvcnRhbnRcIiwgYm9yZGVyOiBcIjAgIWltcG9ydGFudFwiLCBib3JkZXJSYWRpdXM6IFwiMCAhaW1wb3J0YW50XCIsIG1pbldpZHRoOiBcIjAgIWltcG9ydGFudFwiIH0sXG4gICAgICAgIFwiLnBhZ2UtdGV4dCwgLnRleHRMYXllciwgLmxheWVyLXRleHRcIjogeyBkaXNwbGF5OiBcIm5vbmUgIWltcG9ydGFudFwiIH0sXG4gICAgICAgIGJvZHk6IHsgb3ZlcmZsb3c6IFwiaGlkZGVuICFpbXBvcnRhbnRcIiwgV2Via2l0Q29sdW1uQ291bnQ6IFwiaW5pdGlhbCAhaW1wb3J0YW50XCIsIGNvbHVtbkNvdW50OiBcImluaXRpYWwgIWltcG9ydGFudFwiLCBXZWJraXRDb2x1bW5HYXA6IFwiMCAhaW1wb3J0YW50XCIsIGNvbHVtbkdhcDogXCIwICFpbXBvcnRhbnRcIiB9LFxuICAgICAgfSk7XG4gICAgICBsZWZ0UmVuZGl0aW9uUmVmLmN1cnJlbnQudGhlbWVzLnNlbGVjdChcIm92ZXJyaWRlXCIpO1xuICAgICAgbGVmdFJlbmRpdGlvblJlZi5jdXJyZW50Lm9uKFwicmVuZGVyZWRcIiwgKHNlY3Rpb24pID0+IHtcbiAgICAgICAgY29uc3QgaWZyYW1lID0gbGVmdFZpZXdlclJlZi5jdXJyZW50Py5xdWVyeVNlbGVjdG9yKFwiaWZyYW1lXCIpO1xuICAgICAgICBpbmplY3RSZXNldChpZnJhbWUsIFwibGVmdFwiKTtcbiAgICAgICAgaWYgKGlmcmFtZSkgaWZyYW1lLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcIm5vbmVcIjtcbiAgICAgICAgZW5zdXJlQ2xpY2tDYXRjaGVyKGxlZnRWaWV3ZXJSZWYuY3VycmVudCwgXCJsZWZ0XCIsICgpID0+IGxlZnRDdXJyZW50SW5kZXhSZWYuY3VycmVudCA/PyBzZWN0aW9uLmluZGV4KTtcbiAgICAgICAgY29uc3QgZG9jID0gaWZyYW1lPy5jb250ZW50RG9jdW1lbnQgfHwgaWZyYW1lPy5jb250ZW50V2luZG93Py5kb2N1bWVudDtcbiAgICAgICAgaWYgKGRvYykgYXR0YWNoQ2xpY2tIYW5kbGVyc1RvRG9jKGRvYywgKCkgPT4gbGVmdEN1cnJlbnRJbmRleFJlZi5jdXJyZW50ID8/IHNlY3Rpb24uaW5kZXgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGR1YWxNb2RlICYmIHJpZ2h0Vmlld2VyUmVmLmN1cnJlbnQgJiYgIXJpZ2h0UmVuZGl0aW9uUmVmLmN1cnJlbnQpIHtcbiAgICAgIHJpZ2h0UmVuZGl0aW9uUmVmLmN1cnJlbnQgPSByaWdodEJvb2tSZWYuY3VycmVudC5yZW5kZXJUbyhyaWdodFZpZXdlclJlZi5jdXJyZW50LCBvcHRpb25zKTtcbiAgICAgIHJpZ2h0UmVuZGl0aW9uUmVmLmN1cnJlbnQudGhlbWVzLnJlZ2lzdGVyKFwib3ZlcnJpZGVcIiwge1xuICAgICAgICBcIkBwYWdlXCI6IHsgbWFyZ2luOiBcIjAgIWltcG9ydGFudFwiIH0sXG4gICAgICAgIFwiaHRtbCwgYm9keVwiOiB7IG1hcmdpbjogXCIwICFpbXBvcnRhbnRcIiwgcGFkZGluZzogXCIwICFpbXBvcnRhbnRcIiwgaGVpZ2h0OiBcIjEwMCUgIWltcG9ydGFudFwiLCBtaW5XaWR0aDogXCIwICFpbXBvcnRhbnRcIiB9LFxuICAgICAgICBcIipcIjogeyBib3hTaXppbmc6IFwiYm9yZGVyLWJveCAhaW1wb3J0YW50XCIgfSxcbiAgICAgICAgXCJpbWcsIHN2ZywgY2FudmFzLCB2aWRlb1wiOiB7IHdpZHRoOiBcIjEwMCUgIWltcG9ydGFudFwiLCBoZWlnaHQ6IFwiMTAwJSAhaW1wb3J0YW50XCIsIG1heFdpZHRoOiBcIjEwMCUgIWltcG9ydGFudFwiLCBtYXhIZWlnaHQ6IFwiMTAwJSAhaW1wb3J0YW50XCIsIG9iamVjdEZpdDogXCJjb250YWluICFpbXBvcnRhbnRcIiwgZGlzcGxheTogXCJibG9jayAhaW1wb3J0YW50XCIsIG1hcmdpbjogXCIwICFpbXBvcnRhbnRcIiwgcGFkZGluZzogXCIwICFpbXBvcnRhbnRcIiwgYm9yZGVyOiBcIjAgIWltcG9ydGFudFwiLCBib3JkZXJSYWRpdXM6IFwiMCAhaW1wb3J0YW50XCIgfSxcbiAgICAgICAgXCJmaWd1cmUsIC5wYWdlLCBzZWN0aW9uLCBhcnRpY2xlLCBkaXZcIjogeyBtYXJnaW46IFwiMCAhaW1wb3J0YW50XCIsIHBhZGRpbmc6IFwiMCAhaW1wb3J0YW50XCIsIGJvcmRlcjogXCIwICFpbXBvcnRhbnRcIiwgYm9yZGVyUmFkaXVzOiBcIjAgIWltcG9ydGFudFwiLCBtaW5XaWR0aDogXCIwICFpbXBvcnRhbnRcIiB9LFxuICAgICAgICBcIi5wYWdlLXRleHQsIC50ZXh0TGF5ZXIsIC5sYXllci10ZXh0XCI6IHsgZGlzcGxheTogXCJub25lICFpbXBvcnRhbnRcIiB9LFxuICAgICAgICBib2R5OiB7IG92ZXJmbG93OiBcImhpZGRlbiAhaW1wb3J0YW50XCIsIFdlYmtpdENvbHVtbkNvdW50OiBcImluaXRpYWwgIWltcG9ydGFudFwiLCBjb2x1bW5Db3VudDogXCJpbml0aWFsICFpbXBvcnRhbnRcIiwgV2Via2l0Q29sdW1uR2FwOiBcIjAgIWltcG9ydGFudFwiLCBjb2x1bW5HYXA6IFwiMCAhaW1wb3J0YW50XCIgfSxcbiAgICAgIH0pO1xuICAgICAgcmlnaHRSZW5kaXRpb25SZWYuY3VycmVudC50aGVtZXMuc2VsZWN0KFwib3ZlcnJpZGVcIik7XG4gICAgICByaWdodFJlbmRpdGlvblJlZi5jdXJyZW50Lm9uKFwicmVuZGVyZWRcIiwgKHNlY3Rpb24pID0+IHtcbiAgICAgICAgY29uc3QgaWZyYW1lID0gcmlnaHRWaWV3ZXJSZWYuY3VycmVudD8ucXVlcnlTZWxlY3RvcihcImlmcmFtZVwiKTtcbiAgICAgICAgaW5qZWN0UmVzZXQoaWZyYW1lLCBcInJpZ2h0XCIpO1xuICAgICAgICBpZiAoaWZyYW1lKSBpZnJhbWUuc3R5bGUucG9pbnRlckV2ZW50cyA9IFwibm9uZVwiO1xuICAgICAgICBlbnN1cmVDbGlja0NhdGNoZXIocmlnaHRWaWV3ZXJSZWYuY3VycmVudCwgXCJyaWdodFwiLCAoKSA9PiB7XG4gICAgICAgICAgbGV0IGlkeCA9IHJpZ2h0Q3VycmVudEluZGV4UmVmLmN1cnJlbnQgPz8gc2VjdGlvbi5pbmRleDtcbiAgICAgICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShpZHgpICYmIGxlZnRDdXJyZW50SW5kZXhSZWYuY3VycmVudCAhPSBudWxsKSBpZHggPSBsZWZ0Q3VycmVudEluZGV4UmVmLmN1cnJlbnQgKyAxO1xuICAgICAgICAgIHJldHVybiBpZHg7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBkb2MgPSBpZnJhbWU/LmNvbnRlbnREb2N1bWVudCB8fCBpZnJhbWU/LmNvbnRlbnRXaW5kb3c/LmRvY3VtZW50O1xuICAgICAgICBpZiAoZG9jKSBhdHRhY2hDbGlja0hhbmRsZXJzVG9Eb2MoZG9jLCAoKSA9PiB7XG4gICAgICAgICAgbGV0IGlkeCA9IHJpZ2h0Q3VycmVudEluZGV4UmVmLmN1cnJlbnQgPz8gc2VjdGlvbi5pbmRleDtcbiAgICAgICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShpZHgpICYmIGxlZnRDdXJyZW50SW5kZXhSZWYuY3VycmVudCAhPSBudWxsKSBpZHggPSBsZWZ0Q3VycmVudEluZGV4UmVmLmN1cnJlbnQgKyAxO1xuICAgICAgICAgIHJldHVybiBpZHg7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICgoIWR1YWxNb2RlIHx8ICFyaWdodFZpZXdlclJlZi5jdXJyZW50KSAmJiByaWdodFJlbmRpdGlvblJlZi5jdXJyZW50KSB7XG4gICAgICB0cnkgeyByaWdodFJlbmRpdGlvblJlZi5jdXJyZW50LmRlc3Ryb3koKTsgfSBjYXRjaCB7fVxuICAgICAgcmlnaHRSZW5kaXRpb25SZWYuY3VycmVudCA9IG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgdGFza3MgPSBbXTtcbiAgICBpZiAobGVmdEhyZWYgJiYgbGVmdFJlbmRpdGlvblJlZi5jdXJyZW50KSB0YXNrcy5wdXNoKGxlZnRSZW5kaXRpb25SZWYuY3VycmVudC5kaXNwbGF5KGxlZnRIcmVmKSk7XG4gICAgaWYgKHJpZ2h0SHJlZiAmJiByaWdodFJlbmRpdGlvblJlZi5jdXJyZW50KSB0YXNrcy5wdXNoKHJpZ2h0UmVuZGl0aW9uUmVmLmN1cnJlbnQuZGlzcGxheShyaWdodEhyZWYpKTtcbiAgICBpZiAoIXJpZ2h0SHJlZiAmJiBkdWFsTW9kZSAmJiByaWdodFZpZXdlclJlZi5jdXJyZW50KSB7XG4gICAgICBlbnN1cmVDbGlja0NhdGNoZXIocmlnaHRWaWV3ZXJSZWYuY3VycmVudCwgXCJyaWdodFwiLCAoKSA9PiBudWxsKTtcbiAgICB9XG4gICAgZW5zdXJlQ2xpY2tDYXRjaGVyKGxlZnRWaWV3ZXJSZWYuY3VycmVudCwgXCJsZWZ0XCIsICgpID0+IGxlZnRDdXJyZW50SW5kZXhSZWYuY3VycmVudCA/PyBsZWZ0SW5kZXgpO1xuICAgIGlmIChyaWdodEhyZWYgJiYgZHVhbE1vZGUgJiYgcmlnaHRWaWV3ZXJSZWYuY3VycmVudCkge1xuICAgICAgZW5zdXJlQ2xpY2tDYXRjaGVyKHJpZ2h0Vmlld2VyUmVmLmN1cnJlbnQsIFwicmlnaHRcIiwgKCkgPT4ge1xuICAgICAgICBjb25zdCByaSA9IHJpZ2h0Q3VycmVudEluZGV4UmVmLmN1cnJlbnQgPz8gbGVmdEN1cnJlbnRJbmRleFJlZi5jdXJyZW50ICsgMSA/PyBsZWZ0SW5kZXggKyAxO1xuICAgICAgICByZXR1cm4gcmk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgUHJvbWlzZS5hbGwodGFza3MpLmNhdGNoKCgpID0+IHt9KTtcblxuICAgIHNldEN1cnJlbnRQYWdlKGxlZnRJbmRleCk7XG4gIH07XG5cbiAgY29uc3QgcGxheUN1cnJlbnRQYWdlQXVkaW8gPSAoaW5kZXgpID0+IHtcbiAgICBjb25zdCBtYW5pZmVzdERhdGEgPSBtYW5pZmVzdFJlZi5jdXJyZW50O1xuICAgIGlmICghbWFuaWZlc3REYXRhPy5wYWdlcykgcmV0dXJuO1xuICAgIGxldCBwYWdlID0gbWFuaWZlc3REYXRhLnBhZ2VzLmZpbmQoKHApID0+IHAucGFnZU51bWJlciA9PT0gaW5kZXggKyAxKSA/PyBtYW5pZmVzdERhdGEucGFnZXNbaW5kZXhdO1xuICAgIGlmICghcGFnZT8uYXVkaW9VcmwpIHtcbiAgICAgIGZvciAoY29uc3QgY2FuZCBvZiBbaW5kZXggLSAxLCBpbmRleCArIDFdKSB7XG4gICAgICAgIGlmIChjYW5kIDwgMCkgY29udGludWU7XG4gICAgICAgIGNvbnN0IGFsdCA9IG1hbmlmZXN0RGF0YS5wYWdlcy5maW5kKChwKSA9PiBwLnBhZ2VOdW1iZXIgPT09IGNhbmQgKyAxKSA/PyBtYW5pZmVzdERhdGEucGFnZXNbY2FuZF07XG4gICAgICAgIGlmIChhbHQ/LmF1ZGlvVXJsKSB7IHBhZ2UgPSBhbHQ7IGJyZWFrOyB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChwYWdlPy5hdWRpb1VybCAmJiBhdWRpb1JlZi5jdXJyZW50KSB7XG4gICAgICBhdWRpb1JlZi5jdXJyZW50LnNyYyA9IHBhZ2UuYXVkaW9Vcmw7XG4gICAgICBhdWRpb1JlZi5jdXJyZW50LmxvYWQoKTtcbiAgICAgIGF1ZGlvUmVmLmN1cnJlbnQucGxheSgpLmNhdGNoKCgpID0+IHt9KTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZ29Ub1ByZXZQYWdlID0gKCkgPT4ge1xuICAgIGlmIChkdWFsTW9kZSkge1xuICAgICAgaWYgKGN1cnJlbnRQYWdlIDw9IDEpIHsgbG9hZFBhZ2UoMCk7IHJldHVybjsgfVxuICAgICAgY29uc3QgY2FuZGlkYXRlID0gY3VycmVudFBhZ2UgLSAyO1xuICAgICAgbG9hZFBhZ2UoY2FuZGlkYXRlIDwgMSA/IDEgOiBjYW5kaWRhdGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2FkUGFnZShNYXRoLm1heChjdXJyZW50UGFnZSAtIDEsIDApKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZ29Ub05leHRQYWdlID0gKCkgPT4ge1xuICAgIGlmICghbGVmdEJvb2tSZWYuY3VycmVudCkgcmV0dXJuO1xuICAgIGNvbnN0IHNwaW5lID0gbGVmdEJvb2tSZWYuY3VycmVudC5zcGluZTtcbiAgICBjb25zdCBpdGVtcyA9IHNwaW5lPy5pdGVtcyA/PyBzcGluZT8uc3BpbmVJdGVtcyA/PyBbXTtcbiAgICBjb25zdCB0b3RhbCA9IEFycmF5LmlzQXJyYXkoaXRlbXMpID8gaXRlbXMubGVuZ3RoIDogMDtcbiAgICBpZiAoZHVhbE1vZGUpIHtcbiAgICAgIGlmIChjdXJyZW50UGFnZSA9PT0gMCkge1xuICAgICAgICBsb2FkUGFnZSh0b3RhbCA+IDEgPyAxIDogMCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNhbmRpZGF0ZSA9IGN1cnJlbnRQYWdlICsgMjtcbiAgICAgIGxvYWRQYWdlKGNhbmRpZGF0ZSA+PSB0b3RhbCA/IE1hdGgubWF4KHRvdGFsIC0gMiwgMSkgOiBjYW5kaWRhdGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2FkUGFnZShNYXRoLm1pbihjdXJyZW50UGFnZSArIDEsIE1hdGgubWF4KHRvdGFsIC0gMSwgMCkpKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlTGVmdFBhbmVsQ2xpY2sgPSAoKSA9PiB7XG4gICAgY29uc3QgaWR4ID0gbGVmdEN1cnJlbnRJbmRleFJlZi5jdXJyZW50ID8/IGN1cnJlbnRQYWdlO1xuICAgIGlmIChOdW1iZXIuaXNGaW5pdGUoaWR4KSkgcGxheUN1cnJlbnRQYWdlQXVkaW8oaWR4KTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVSaWdodFBhbmVsQ2xpY2sgPSAoKSA9PiB7XG4gICAgbGV0IGlkeCA9IHJpZ2h0Q3VycmVudEluZGV4UmVmLmN1cnJlbnQgPz8gbGVmdEN1cnJlbnRJbmRleFJlZi5jdXJyZW50ICsgMSA/PyBjdXJyZW50UGFnZSArIDE7XG4gICAgaWYgKE51bWJlci5pc0Zpbml0ZShpZHgpKSBwbGF5Q3VycmVudFBhZ2VBdWRpbyhpZHgpO1xuICB9O1xuXG4gIGNvbnN0IHN0YXJ0UXVpeiA9ICgpID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIltzdGFydFF1aXpdIO2BtOumreuQqFwiKTtcbiAgICBzZXRTaG93UXVpeih0cnVlKTtcbiAgICBzZXRVc2VyQW5zd2Vycyh7fSk7XG4gICAgc2V0UXVpelN1Ym1pdHRlZChmYWxzZSk7XG4gICAgLy8g7J2066+4IOyDneyEseuQnCDrrLjsoJzqsIAg7J6I7Jy866m0IOq3uOuMgOuhnCDtkZzsi5wsIOyXhuycvOuptCDroZzrlKkg7IOB7YOcIOycoOyngFxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUFuc3dlclNlbGVjdCA9IChxSW5kZXgsIG9wdGlvbkluZGV4KSA9PiB7XG4gICAgaWYgKHF1aXpTdWJtaXR0ZWQpIHJldHVybjtcbiAgICBzZXRVc2VyQW5zd2VycygocHJldikgPT4gKHsgLi4ucHJldiwgW3FJbmRleF06IG9wdGlvbkluZGV4IH0pKTtcbiAgfTtcblxuICBjb25zdCBzdWJtaXRRdWl6ID0gKCkgPT4ge1xuICAgIHNldFF1aXpTdWJtaXR0ZWQodHJ1ZSk7XG4gIH07XG5cbiAgY29uc3QgY2xvc2VRdWl6ID0gKCkgPT4ge1xuICAgIHNldFNob3dRdWl6KGZhbHNlKTtcbiAgICBzZXRRdWVzdGlvbnMoW10pO1xuICAgIHNldFVzZXJBbnN3ZXJzKHt9KTtcbiAgICBzZXRRdWl6U3VibWl0dGVkKGZhbHNlKTtcbiAgfTtcblxuICBjb25zdCBjb3JyZWN0Q291bnQgPSBxdWVzdGlvbnMuZmlsdGVyKChxLCBpKSA9PiB1c2VyQW5zd2Vyc1tpXSA9PT0gcS5jb3JyZWN0SW5kZXgpLmxlbmd0aDtcbiAgY29uc3QgdG90YWxDb3VudCA9IHF1ZXN0aW9ucy5sZW5ndGg7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IHN0eWxlPXt7IGZvbnRGYW1pbHk6IFwiQXJpYWwsIHNhbnMtc2VyaWZcIiwgZGlzcGxheTogXCJncmlkXCIsIGdyaWRUZW1wbGF0ZVJvd3M6IFwiYXV0byAxZnIgYXV0b1wiLCBoZWlnaHQ6IFwiMTAwdmhcIiwgcG9zaXRpb246IFwicmVsYXRpdmVcIiB9fT5cbiAgICAgIHtxdWl6TG9hZGluZyAmJiAoXG4gICAgICAgIDxkaXZcbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgcG9zaXRpb246IFwiZml4ZWRcIixcbiAgICAgICAgICAgIHRvcDogMCwgbGVmdDogMCwgcmlnaHQ6IDAsIGJvdHRvbTogMCxcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IFwicmdiYSgwLDAsMCwwLjkpXCIsXG4gICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIHpJbmRleDogMjAwMDAsXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIDxwIHN0eWxlPXt7IGNvbG9yOiBcIndoaXRlXCIsIGZvbnRTaXplOiBcIjE4cHhcIiB9fT5BSeqwgCDrrLjsoJzrpbwg66eM65Ok6rOgIOyeiOyWtOyalC4uLiDsnqDsi5zrp4wg6riw64uk66CkIOyjvOyEuOyalCE8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICAgIDxkaXYgc3R5bGU9e3sgcGFkZGluZzogXCI4cHggMTZweFwiLCBiYWNrZ3JvdW5kOiBcImJsYWNrXCIsIGNvbG9yOiBcIndoaXRlXCIsIGRpc3BsYXk6IFwiZmxleFwiLCBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLCBqdXN0aWZ5Q29udGVudDogXCJzcGFjZS1iZXR3ZWVuXCIsIGdhcDogXCIxNnB4XCIgfX0+XG4gICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogXCJmbGV4XCIsIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsIGdhcDogXCIxNnB4XCIgfX0+XG4gICAgICAgICAgPGltZyBzcmM9XCIvbG9nby5wbmdcIiBhbHQ9XCJMb2dvXCIgc3R5bGU9e3sgaGVpZ2h0OiBcIjQwcHhcIiB9fSAvPlxuICAgICAgICAgIDxoMSBzdHlsZT17eyBtYXJnaW46IDAsIGZvbnRTaXplOiBcIjE4cHhcIiwgY29sb3I6IFwid2hpdGVcIiB9fT5LaWQmYXBvcztzIEVuZ2xpc2g8L2gxPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge21hbmlmZXN0ICYmICFzaG93UXVpeiAmJiBxdWVzdGlvbnMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17c3RhcnRRdWl6fVxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgcGFkZGluZzogXCI4cHggMjBweFwiLFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIiM0YTkwZDlcIixcbiAgICAgICAgICAgICAgY29sb3I6IFwid2hpdGVcIixcbiAgICAgICAgICAgICAgYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjhweFwiLFxuICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICBmb250U2l6ZTogXCIxNXB4XCIsXG4gICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiYm9sZFwiLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICDwn5OdIOusuOygnCDtkoDquLBcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2XG4gICAgICAgIHJlZj17c3ByZWFkQ29udGFpbmVyUmVmfVxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIGRpc3BsYXk6IFwiZ3JpZFwiLFxuICAgICAgICAgIGdyaWRUZW1wbGF0ZUNvbHVtbnM6IGR1YWxNb2RlID8gXCIxZnIgMWZyXCIgOiBcIjFmclwiLFxuICAgICAgICAgIGdhcDogMCxcbiAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgIGp1c3RpZnlJdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgICBiYWNrZ3JvdW5kOiBcIiNFOEU4RThcIixcbiAgICAgICAgICBvdmVyZmxvdzogXCJoaWRkZW5cIixcbiAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgcmVmPXtsZWZ0Vmlld2VyUmVmfVxuICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUxlZnRQYW5lbENsaWNrfVxuICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBcIjEwMCVcIiwgaGVpZ2h0OiBcIjEwMCVcIiwgb3ZlcmZsb3c6IFwiaGlkZGVuXCIsIGRpc3BsYXk6IFwiZmxleFwiLCBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLCBqdXN0aWZ5Q29udGVudDogXCJmbGV4LWVuZFwiLCBjdXJzb3I6IFwicG9pbnRlclwiIH19XG4gICAgICAgIC8+XG4gICAgICAgIHtkdWFsTW9kZSAmJiAoXG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgcmVmPXtyaWdodFZpZXdlclJlZn1cbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVJpZ2h0UGFuZWxDbGlja31cbiAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBcIjEwMCVcIiwgaGVpZ2h0OiBcIjEwMCVcIiwgb3ZlcmZsb3c6IFwiaGlkZGVuXCIsIGRpc3BsYXk6IFwiZmxleFwiLCBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLCBqdXN0aWZ5Q29udGVudDogXCJmbGV4LXN0YXJ0XCIsIGN1cnNvcjogXCJwb2ludGVyXCIgfX1cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuXG4gICAgICAgIHtzaG93UXVpeiAmJiAoXG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgICAgICAgdG9wOiAwLCBsZWZ0OiAwLCByaWdodDogMCwgYm90dG9tOiAwLFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcInJnYmEoMCwwLDAsMC45KVwiLFxuICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiZmxleC1zdGFydFwiLFxuICAgICAgICAgICAgICB6SW5kZXg6IDEwMDAwLFxuICAgICAgICAgICAgICBwYWRkaW5nOiBcIjI0cHhcIixcbiAgICAgICAgICAgICAgb3ZlcmZsb3dZOiBcImF1dG9cIixcbiAgICAgICAgICAgICAgV2Via2l0T3ZlcmZsb3dTY3JvbGxpbmc6IFwidG91Y2hcIixcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXhXaWR0aDogXCI2MDBweFwiLCB3aWR0aDogXCIxMDAlXCIsIGJhY2tncm91bmQ6IFwiIzFhMWExYVwiLCBib3JkZXJSYWRpdXM6IFwiMTJweFwiLCBwYWRkaW5nOiBcIjI0cHhcIiwgY29sb3I6IFwiI2ZmZlwiLCBtYXJnaW5Cb3R0b206IFwiMjRweFwiLCBmbGV4U2hyaW5rOiAwIH19PlxuICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6IFwiZmxleFwiLCBqdXN0aWZ5Q29udGVudDogXCJzcGFjZS1iZXR3ZWVuXCIsIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsIG1hcmdpbkJvdHRvbTogXCIyMHB4XCIgfX0+XG4gICAgICAgICAgICAgICAgPGgyIHN0eWxlPXt7IG1hcmdpbjogMCwgZm9udFNpemU6IFwiMjJweFwiIH19PvCfk5og66y47KCcIO2SgOq4sDwvaDI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgb25DbGljaz17Y2xvc2VRdWl6fVxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgYmFja2dyb3VuZDogXCIjMzMzXCIsIGNvbG9yOiBcIiNmZmZcIiwgYm9yZGVyOiBcIm5vbmVcIiwgcGFkZGluZzogXCI4cHggMTZweFwiLCBib3JkZXJSYWRpdXM6IFwiOHB4XCIsIGN1cnNvcjogXCJwb2ludGVyXCIsIGZvbnRTaXplOiBcIjE0cHhcIiB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIOuLq+q4sFxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICB7cXVpekxvYWRpbmcgPyAoXG4gICAgICAgICAgICAgICAgPHAgc3R5bGU9e3sgdGV4dEFsaWduOiBcImNlbnRlclwiLCBwYWRkaW5nOiBcIjQwcHhcIiB9fT5BSeqwgCDrrLjsoJzrpbwg66eM65Ok6rOgIOyeiOyWtOyalC4uLiDsnqDsi5zrp4wg6riw64uk66CkIOyjvOyEuOyalCE8L3A+XG4gICAgICAgICAgICAgICkgOiBxdWVzdGlvbnMubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgICAgICAgIDxwIHN0eWxlPXt7IHRleHRBbGlnbjogXCJjZW50ZXJcIiwgcGFkZGluZzogXCI0MHB4XCIgfX0+66y47KCc66W8IOu2iOufrOyYrCDsiJgg7JeG7JeI7Ja07JqULiDri6Tsi5wg7Iuc64+E7ZW0IOyjvOyEuOyalC48L3A+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgIHtxdWVzdGlvbnMubWFwKChxLCBxaSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17cWl9IHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogXCIyNHB4XCIsIHBhZGRpbmdCb3R0b206IFwiMjRweFwiLCBib3JkZXJCb3R0b206IHFpIDwgcXVlc3Rpb25zLmxlbmd0aCAtIDEgPyBcIjFweCBzb2xpZCAjNDQ0XCIgOiBcIm5vbmVcIiB9fT5cbiAgICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT17eyBtYXJnaW5Cb3R0b206IFwiMTJweFwiLCBmb250U2l6ZTogXCIxNnB4XCIsIGxpbmVIZWlnaHQ6IDEuNSB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+e3FpICsgMX0uPC9zdHJvbmc+IHtxLnF1ZXN0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6IFwiZmxleFwiLCBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLCBnYXA6IFwiOHB4XCIgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICB7KHEub3B0aW9ucyA/PyBbXSkubWFwKChvcHQsIG9pKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzU2VsZWN0ZWQgPSB1c2VyQW5zd2Vyc1txaV0gPT09IG9pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0NvcnJlY3QgPSBxLmNvcnJlY3RJbmRleCA9PT0gb2k7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNob3dSZXN1bHQgPSBxdWl6U3VibWl0dGVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYmcgPSBcIiMyYTJhMmFcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNob3dSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNDb3JyZWN0KSBiZyA9IFwiIzFhNGQxYVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzU2VsZWN0ZWQgJiYgIWlzQ29ycmVjdCkgYmcgPSBcIiM0ZDFhMWFcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc1NlbGVjdGVkKSBiZyA9IFwiIzNhM2E1YVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17b2l9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVBbnN3ZXJTZWxlY3QocWksIG9pKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtxdWl6U3VibWl0dGVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIxMnB4IDE2cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogYmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNmZmZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjNTU1XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI4cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBxdWl6U3VibWl0dGVkID8gXCJkZWZhdWx0XCIgOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEFsaWduOiBcImxlZnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMTVweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7W1wiQVwiLCBcIkJcIiwgXCJDXCIsIFwiRFwiXVtvaV19LiB7b3B0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAge3F1aXpTdWJtaXR0ZWQgJiYgcS5leHBsYW5hdGlvbiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT17eyBtYXJnaW5Ub3A6IFwiMTJweFwiLCBmb250U2l6ZTogXCIxNHB4XCIsIGNvbG9yOiBcIiNhYWFcIiB9fT7wn5KhIHtxLmV4cGxhbmF0aW9ufTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgeyFxdWl6U3VibWl0dGVkID8gKFxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17c3VibWl0UXVpen1cbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIxNHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIiM0YTkwZDlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNmZmZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiOHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMTZweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCJib2xkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIOygnOy2nO2VmOq4sFxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgdGV4dEFsaWduOiBcImNlbnRlclwiLCBwYWRkaW5nOiBcIjIwcHhcIiwgZm9udFNpemU6IFwiMThweFwiLCBmb250V2VpZ2h0OiBcImJvbGRcIiwgY29sb3I6IFwiIzRhZGU4MFwiIH19PlxuICAgICAgICAgICAgICAgICAgICAgIPCfjokge2NvcnJlY3RDb3VudH0gLyB7dG90YWxDb3VudH0g7KCV64u1IVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IHN0eWxlPXt7IHBhZGRpbmc6IFwiNHB4XCIsIGJhY2tncm91bmQ6IFwiYmxhY2tcIiwgYm9yZGVyVG9wOiBcIjJweCBzb2xpZCAjZGRkXCIsIGRpc3BsYXk6IFwiZmxleFwiLCBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIiwgYWxpZ25JdGVtczogXCJjZW50ZXJcIiwgZ2FwOiBcIjE2cHhcIiB9fT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIG9uQ2xpY2s9e2dvVG9QcmV2UGFnZX1cbiAgICAgICAgICBkaXNhYmxlZD17Y3VycmVudFBhZ2UgPT09IDB9XG4gICAgICAgICAgc3R5bGU9e3sgcGFkZGluZzogXCI0cHhcIiwgZm9udFNpemU6IFwiMTZweFwiLCBjdXJzb3I6IFwicG9pbnRlclwiLCBiYWNrZ3JvdW5kOiBcInRyYW5zcGFyZW50XCIsIGNvbG9yOiBcIndoaXRlXCIsIGJvcmRlcjogXCJub25lXCIsIGJvcmRlclJhZGl1czogXCI1cHhcIiB9fVxuICAgICAgICA+XG4gICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlV2lkdGg9ezEuNX0gc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCI+XG4gICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgZD1cIk0xMC41IDE5LjUgMyAxMm0wIDAgNy41LTcuNU0zIDEyaDE4XCIgLz5cbiAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxwIHN0eWxlPXt7IGNvbG9yOiBcIndoaXRlXCIsIGZvbnRTaXplOiBcIjE2cHhcIiB9fT5cbiAgICAgICAgICB7Y3VycmVudFBhZ2UgKyAxfSAvIHt0b3RhbFBhZ2VzIHx8IFwiP1wifVxuICAgICAgICA8L3A+XG4gICAgICAgIDxhdWRpbyByZWY9e2F1ZGlvUmVmfSBjb250cm9scyBzdHlsZT17eyBkaXNwbGF5OiBcIm5vbmVcIiB9fSAvPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb25DbGljaz17Z29Ub05leHRQYWdlfVxuICAgICAgICAgIGRpc2FibGVkPXt0b3RhbFBhZ2VzID4gMCAmJiBjdXJyZW50UGFnZSA+PSB0b3RhbFBhZ2VzIC0gMX1cbiAgICAgICAgICBzdHlsZT17eyBwYWRkaW5nOiBcIjRweFwiLCBmb250U2l6ZTogXCIxNnB4XCIsIGN1cnNvcjogXCJwb2ludGVyXCIsIGJhY2tncm91bmQ6IFwidHJhbnNwYXJlbnRcIiwgY29sb3I6IFwid2hpdGVcIiwgYm9yZGVyOiBcIm5vbmVcIiwgYm9yZGVyUmFkaXVzOiBcIjVweFwiIH19XG4gICAgICAgID5cbiAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2VXaWR0aD17MS41fSBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIj5cbiAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBkPVwiTTEzLjUgNC41IDIxIDEybTAgMC03LjUgNy41TTIxIDEySDNcIiAvPlxuICAgICAgICAgIDwvc3ZnPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJFcHViVmlld2VyV2l0aFF1aXoiLCJtYW5pZmVzdCIsInNwcmVhZENvbnRhaW5lclJlZiIsImxlZnRWaWV3ZXJSZWYiLCJyaWdodFZpZXdlclJlZiIsImF1ZGlvUmVmIiwibGVmdEJvb2tSZWYiLCJyaWdodEJvb2tSZWYiLCJsZWZ0UmVuZGl0aW9uUmVmIiwicmlnaHRSZW5kaXRpb25SZWYiLCJsZWZ0Q3VycmVudEluZGV4UmVmIiwicmlnaHRDdXJyZW50SW5kZXhSZWYiLCJzZXRNYW5pZmVzdCIsImN1cnJlbnRQYWdlIiwic2V0Q3VycmVudFBhZ2UiLCJkdWFsTW9kZSIsInNldER1YWxNb2RlIiwic2hvd1F1aXoiLCJzZXRTaG93UXVpeiIsInF1aXpMb2FkaW5nIiwic2V0UXVpekxvYWRpbmciLCJxdWVzdGlvbnMiLCJzZXRRdWVzdGlvbnMiLCJ1c2VyQW5zd2VycyIsInNldFVzZXJBbnN3ZXJzIiwicXVpelN1Ym1pdHRlZCIsInNldFF1aXpTdWJtaXR0ZWQiLCJtYW5pZmVzdFJlZiIsImN1cnJlbnQiLCJsb2FkUGFnZVJlZiIsImlkeCIsImxvYWRQYWdlIiwidG90YWxQYWdlcyIsInBhZ2VzIiwibGVuZ3RoIiwiaXNMYXN0UGFnZSIsImNvbnNvbGUiLCJsb2ciLCJvcGZVcmwiLCJtYW5pZmVzdFVybCIsImluaXQiLCJtYW5pZmVzdFJlcyIsImVQdWJNb2R1bGUiLCJQcm9taXNlIiwiYWxsIiwiZmV0Y2giLCJ0aGVuIiwiciIsImpzb24iLCJtIiwiZGVmYXVsdCIsImVQdWIiLCJsZWZ0Qm9vayIsInJpZ2h0Qm9vayIsInJlYWR5Iiwic2V0VGltZW91dCIsImJvb2tUZXh0IiwibWFwIiwicCIsInRleHQiLCJ0cmltIiwiZmlsdGVyIiwiQm9vbGVhbiIsImpvaW4iLCJ3YXJuIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwicmVzIiwiZGF0YSIsImVycm9yIiwiY2F0Y2giLCJlcnIiLCJpbmplY3RSZXNldCIsImlmcmFtZSIsInNpZGUiLCJzdHlsZSIsIndpZHRoIiwiaGVpZ2h0IiwiYm9yZGVyIiwiZGlzcGxheSIsImRvYyIsImNvbnRlbnREb2N1bWVudCIsImNvbnRlbnRXaW5kb3ciLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJqdXN0aWZ5IiwidGV4dENvbnRlbnQiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJxdWVyeVNlbGVjdG9yIiwibWV0YSIsIm5hbWUiLCJjb250ZW50IiwiZG9jdW1lbnRFbGVtZW50Iiwic2V0UHJvcGVydHkiLCJBcnJheSIsImZyb20iLCJjaGlsZHJlbiIsImZvckVhY2giLCJlbCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlbnN1cmVDbGlja0NhdGNoZXIiLCJjb250YWluZXIiLCJpbmRleFByb3ZpZGVyIiwicG9zaXRpb24iLCJpZCIsImNhdGNoZXIiLCJjc3NUZXh0Iiwib25jbGljayIsIk51bWJlciIsImlzRmluaXRlIiwicGxheUN1cnJlbnRQYWdlQXVkaW8iLCJhdHRhY2hDbGlja0hhbmRsZXJzVG9Eb2MiLCJnZXRJbmRleCIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVSZXNpemUiLCJjbGllbnRXaWR0aCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJjbGllbnRIZWlnaHQiLCJpbm5lckhlaWdodCIsIm5leHREdWFsIiwicGFuZWxXaWR0aCIsIk1hdGgiLCJmbG9vciIsInJlc2l6ZSIsInJvIiwiUmVzaXplT2JzZXJ2ZXIiLCJvYnNlcnZlIiwiZGlzY29ubmVjdCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzdG9wQ3VycmVudEF1ZGlvIiwicGF1c2UiLCJjdXJyZW50VGltZSIsImluZGV4IiwiaXRlbXMiLCJzcGluZSIsInNwaW5lSXRlbXMiLCJzcGluZUxlbiIsImlzQXJyYXkiLCJyaWdodEhyZWZPbmx5IiwiaHJlZiIsIm9wdGlvbnMiLCJmbG93Iiwic3ByZWFkIiwiYWxsb3dTY3JpcHRlZENvbnRlbnQiLCJtaW5TcHJlYWRXaWR0aCIsImlubmVySFRNTCIsImRlc3Ryb3kiLCJyZW5kZXJUbyIsIm9uIiwibGVmdEluZGV4IiwibWF4IiwibWluIiwibGVmdEhyZWYiLCJyaWdodEhyZWYiLCJ1bmRlZmluZWQiLCJ0aGVtZXMiLCJyZWdpc3RlciIsIm1hcmdpbiIsInBhZGRpbmciLCJtaW5XaWR0aCIsImJveFNpemluZyIsIm1heFdpZHRoIiwibWF4SGVpZ2h0Iiwib2JqZWN0Rml0IiwiYm9yZGVyUmFkaXVzIiwib3ZlcmZsb3ciLCJXZWJraXRDb2x1bW5Db3VudCIsImNvbHVtbkNvdW50IiwiV2Via2l0Q29sdW1uR2FwIiwiY29sdW1uR2FwIiwic2VsZWN0Iiwic2VjdGlvbiIsInBvaW50ZXJFdmVudHMiLCJ0YXNrcyIsInB1c2giLCJyaSIsIm1hbmlmZXN0RGF0YSIsInBhZ2UiLCJmaW5kIiwicGFnZU51bWJlciIsImF1ZGlvVXJsIiwiY2FuZCIsImFsdCIsInNyYyIsImxvYWQiLCJwbGF5IiwiZ29Ub1ByZXZQYWdlIiwiY2FuZGlkYXRlIiwiZ29Ub05leHRQYWdlIiwidG90YWwiLCJoYW5kbGVMZWZ0UGFuZWxDbGljayIsImhhbmRsZVJpZ2h0UGFuZWxDbGljayIsInN0YXJ0UXVpeiIsImhhbmRsZUFuc3dlclNlbGVjdCIsInFJbmRleCIsIm9wdGlvbkluZGV4IiwicHJldiIsInN1Ym1pdFF1aXoiLCJjbG9zZVF1aXoiLCJjb3JyZWN0Q291bnQiLCJxIiwiaSIsImNvcnJlY3RJbmRleCIsInRvdGFsQ291bnQiLCJkaXYiLCJmb250RmFtaWx5IiwiZ3JpZFRlbXBsYXRlUm93cyIsInRvcCIsImxlZnQiLCJyaWdodCIsImJvdHRvbSIsImJhY2tncm91bmQiLCJhbGlnbkl0ZW1zIiwianVzdGlmeUNvbnRlbnQiLCJ6SW5kZXgiLCJjb2xvciIsImZvbnRTaXplIiwiZ2FwIiwiaW1nIiwiaDEiLCJidXR0b24iLCJvbkNsaWNrIiwiY3Vyc29yIiwiZm9udFdlaWdodCIsInJlZiIsImdyaWRUZW1wbGF0ZUNvbHVtbnMiLCJqdXN0aWZ5SXRlbXMiLCJmbGV4RGlyZWN0aW9uIiwib3ZlcmZsb3dZIiwiV2Via2l0T3ZlcmZsb3dTY3JvbGxpbmciLCJtYXJnaW5Cb3R0b20iLCJmbGV4U2hyaW5rIiwiaDIiLCJ0ZXh0QWxpZ24iLCJxaSIsInBhZGRpbmdCb3R0b20iLCJib3JkZXJCb3R0b20iLCJsaW5lSGVpZ2h0Iiwic3Ryb25nIiwicXVlc3Rpb24iLCJvcHQiLCJvaSIsImlzU2VsZWN0ZWQiLCJpc0NvcnJlY3QiLCJzaG93UmVzdWx0IiwiYmciLCJkaXNhYmxlZCIsImV4cGxhbmF0aW9uIiwibWFyZ2luVG9wIiwiYm9yZGVyVG9wIiwic3ZnIiwieG1sbnMiLCJmaWxsIiwidmlld0JveCIsInN0cm9rZVdpZHRoIiwic3Ryb2tlIiwicGF0aCIsInN0cm9rZUxpbmVjYXAiLCJzdHJva2VMaW5lam9pbiIsImQiLCJhdWRpbyIsImNvbnRyb2xzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/EpubViewerWithQuiz.js\n"));

/***/ })

});